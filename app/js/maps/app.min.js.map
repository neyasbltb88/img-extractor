{"version":3,"sources":["node_modules/browser-pack/_prelude.js","app/js/app.js","app/js/libs/CSSinJSON/app/js/css-in-json.js","app/js/libs/CSSinJSON/app/js/modules/extend.js","app/js/modules/img-extractor.js","app/js/modules/interface-templates.js","app/js/modules/interface.js","node_modules/downloadjs/download.js"],"names":[],"mappings":"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AW,MAArC;AACH;;;2BAEM;AACH;AACA,WAAK,WAAL,GAFG,CAIH;;;AACA,WAAK,WAAL,GALG,CAOH;;;AACA,WAAK,SAAL,GARG,CAUH;;;AACA,WAAK,UAAL,GAXG,CAcH;;AACA,WAAK,OAAL,GAAe,IAAI,SAAJ,CAAc;AACzB,QAAA,KAAK,EAAE,KAAK,QAAL,CAAc,cAAd,CAA6B;AAChC,UAAA,SAAS,EAAE,MAAM,KAAK,SADU;AAEhC,UAAA,iBAAiB,EAAE,MAAM,KAAK;AAFE,SAA7B,CADkB;AAKzB,QAAA,UAAU,EAAE,MAAM,KAAK;AALE,OAAd,CAAf;AAOH;;;;;;;;;ACxLL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"../app.min.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","import ImgExtractor from './modules/img-extractor.js'\r\n\r\n/////////////////////////////////////////////////////////\r\n// https://ru.wikipedia.org/wiki/Список_MIME-типов\r\n\r\n\r\n\r\nwindow.imgExtractor = new ImgExtractor({\r\n    // container: '.item.first',\r\n    rename: {\r\n        // prefix: 'pref_',\r\n        // suffix: '_suf'\r\n    },\r\n    // autodownload: true\r\n});\r\n\r\n// console.log(window.imgExtractor.getElements());\r\n// console.log(window.imgExtractor.getItems());\r\n\r\n\r\nconsole.log(imgExtractor);\r\n\r\n// window.imgExtractor.downloadAll();","import Extend from './modules/extend';\r\n\r\n\r\nclass CSSinJSON {\r\n    constructor(options = {}) {\r\n        this.elems_selector = []; // Селекторы базовых элементов\r\n        this.scoped_elems = []; // Сами базовые элементы\r\n        this.scoped = false; // Флаг изоляции стилей\r\n        this.style_obj = {}; // Объект стилей\r\n        this.scopedId = ''; // Здесь будет сгенерированный id для изоляции стилей\r\n        this.style_string = ''; // Здесь будут сгенерированные стили в виде строки\r\n        this.indent = 4;\r\n\r\n\r\n        this.Extend = Extend; // Плагин объединения объектов\r\n\r\n\r\n        // Точка входа, принимает селектор(ы) базовых элементов\r\n        this.init(options.scopedElem, options.style);\r\n    }\r\n\r\n    // Генератор рандомного числа\r\n    rand(min, max) {\r\n        let rand = Math.floor(min + Math.random() * (max + 1 - min));\r\n        return rand;\r\n    }\r\n\r\n    // Конвертер camelCase в cebab-case\r\n    camelToKebab(camel) {\r\n        return camel.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();\r\n    }\r\n\r\n    // TODO: разобраться с этим методом\r\n    // Метод расширения стилей, пока работает не правильно\r\n    extend(obj1, obj2) {\r\n        this.style_obj = this.Extend(obj1, obj2);\r\n        this.style_string = this.jsonToStyle(this.style_obj, this.scopedId);\r\n        this.updateStyleInject(this.style_string, this.scopedId);\r\n\r\n        return this.style_string;\r\n    }\r\n\r\n    // Вставка новых стилей в готовый элемент style\r\n    updateStyleInject(style_content, scoped) {\r\n        let stl = document.querySelector(`#${scoped}`);\r\n        stl.textContent = style_content;\r\n    }\r\n\r\n    removeStyle(parent = document.head, scoped = this.scopedId) {\r\n        let style_elem = document.querySelector(`#${scoped}`);\r\n        if (style_elem) {\r\n            parent.removeChild(style_elem);\r\n            this.scoped_elems.forEach(elem => elem.removeAttribute('data-scoped'));\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    addStyle() {\r\n        let style_elem = document.querySelector(`#${this.scopedId}`);\r\n        if (!style_elem) {\r\n            this.injectStyle(this.style_string, document.head, 'CSSinJSON_style', this.scopedId);\r\n            this.addScopedAttr(this.scoped_elems);\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    // Создание нового элемента style и заполнение его атрибутами и стилями\r\n    injectStyle(style_content = this.style_string, elem = document.head, class_name = 'CSSinJSON_style', scoped = this.scopedId) {\r\n        let stl = document.createElement('style');\r\n        stl.id = scoped;\r\n        stl.className = class_name;\r\n        stl.textContent = style_content;\r\n        elem.appendChild(stl);\r\n    }\r\n\r\n    // Подготовка селектора к использованию в регулярке\r\n    prepareSelector(selector) {\r\n        return selector.replace(/([\\.\\#])/gmi, '\\\\$1');\r\n    }\r\n\r\n    // Метод обработки селекторов для scoped-режима\r\n    // Если селектор соответствует базовому, к нему допишется атрибут scoped\r\n    // Если селектор не соответствует базовому, то он будет наследоваться от атрибута scoped\r\n    scopeSelector(selector, str, scoped_attr) {\r\n        if (selector === this.prepareSelector(selector) && str !== 'body') {\r\n            return `${scoped_attr} ${str}`;\r\n        } else if (str === 'body') {\r\n            return str;\r\n        }\r\n        let reg_str = `(?:^|[^\\\\ \\\\t])(${this.prepareSelector(selector)})(?=$|[\\\\s\\\\.\\\\#>])`;\r\n        let regex = new RegExp(reg_str, 'gm');\r\n\r\n        let match, matches, str_before, str_after, lastIndex;\r\n        while ((match = regex.exec(str)) !== null) {\r\n            if (match.index === regex.lastIndex) {\r\n                regex.lastIndex++;\r\n            }\r\n\r\n            matches = match.slice();\r\n\r\n            lastIndex = regex.lastIndex;\r\n            str_before = str.slice(0, regex.lastIndex - match[1].length);\r\n            str_after = str.slice(regex.lastIndex);\r\n\r\n            str = str_before + match[1].replace(regex, '$1' + scoped_attr) + str_after;\r\n            regex.lastIndex += scoped_attr.length;\r\n        }\r\n\r\n        // console.log('lastIndex: ', lastIndex);\r\n        str = (lastIndex === undefined) ? `${scoped_attr} ${str}` : str;\r\n\r\n\r\n        return str;\r\n    }\r\n\r\n    // Метод для генерации селекторов с атрибутом scoped.\r\n    // Разбирает несколько селекторов, указанных через запятую\r\n    scopedSelectorGenerate(selector) {\r\n        let regex = /(,\\s*\\n*\\t*)/gm;\r\n        let selector_arr = selector.split(regex).filter(selector => (selector.search(regex) === -1) ? true : false);\r\n        let scoped_attr = `[data-scoped=${this.scopedId}]`;\r\n        let new_selector = '';\r\n\r\n        // Цикл по селекторам, указанным в стилях через запятую\r\n        selector_arr.forEach(selector => {\r\n            // Если надо генерировать изолированные стили\r\n            if (this.scoped) {\r\n\r\n                // Цикл по каждому базовому селектору\r\n                let prev_inner_new_selector = '';\r\n                this.elems_selector.forEach(scoped_elem => {\r\n                    let inner_new_selector = '';\r\n                    inner_new_selector = this.scopeSelector(scoped_elem, selector, scoped_attr) + ',\\n';\r\n\r\n                    // Проверка на то, чтобы не дублировались селекторы, если они совпадают во внутреннем цикле\r\n                    if (prev_inner_new_selector !== inner_new_selector) {\r\n                        new_selector += inner_new_selector;\r\n                        prev_inner_new_selector = inner_new_selector;\r\n                    }\r\n                });\r\n\r\n                // Если НЕ надо генерировать изолированные стили\r\n            } else {\r\n                new_selector += `${selector},\\n`;\r\n            }\r\n        })\r\n\r\n        return new_selector.slice(0, -2);\r\n    }\r\n\r\n    // Генерирует строковые стили для одного селектора\r\n    objToStyle(selector, obj) {\r\n        let style = '';\r\n        for (let prop in obj) {\r\n            style += `\\n${' '.repeat(this.indent)}${this.camelToKebab(prop)}: ${obj[prop]};`\r\n        }\r\n\r\n        return `${this.scopedSelectorGenerate(selector)} {${style}\\n}`;\r\n\r\n\r\n    }\r\n\r\n    // Генерирует полные стили по входящему объекту\r\n    jsonToStyle(json) {\r\n        let style = '';\r\n        for (let selector in json) {\r\n            style += this.objToStyle(selector, json[selector]) + '\\n\\n';\r\n        }\r\n\r\n        return style;\r\n    }\r\n\r\n    // Вешает на базовые элементы scoped-атрибут для изоляции стилей\r\n    addScopedAttr(elems) {\r\n        elems.forEach(elem => elem.dataset.scoped = this.scopedId)\r\n    }\r\n\r\n    // Находит все элементы, указанные в качестве базовых, собирает эти элементы и\r\n    // их селекторы в соответствующие массивы \r\n    findScopedElems(selector) {\r\n        let elems_of_selector;\r\n        if (typeof selector === 'object') {\r\n            selector.forEach(element => {\r\n                this.elems_selector.push(element);\r\n                elems_of_selector = document.querySelectorAll(element);\r\n                if (elems_of_selector !== null) {\r\n                    elems_of_selector.forEach(elem => {\r\n                        // elem.dataset.scoped = this.scopedId;\r\n                        this.scoped_elems.push(elem);\r\n                    })\r\n                }\r\n            });\r\n        } else if (typeof selector === 'string') {\r\n            this.elems_selector.push(selector);\r\n            elems_of_selector = document.querySelectorAll(selector);\r\n\r\n            if (elems_of_selector !== null) {\r\n                elems_of_selector.forEach(elem => {\r\n                    // elem.dataset.scoped = this.scopedId;\r\n                    this.scoped_elems.push(elem);\r\n                })\r\n            }\r\n        }\r\n    }\r\n\r\n    scopedInit(selector) {\r\n        this.findScopedElems(selector);\r\n        if (this.scoped_elems.length > 0) {\r\n            this.scoped = true;\r\n            this.addScopedAttr(this.scoped_elems);\r\n        }\r\n    }\r\n\r\n    // Генератор id для изоляции стилей - строка 10 символов в диапазоне a-z\r\n    scopedIdGenerate() {\r\n        let id = '';\r\n        for (let i = 0; i < 10; i++) {\r\n            id += String.fromCharCode(this.rand(97, 122));\r\n        }\r\n\r\n        return id;\r\n    }\r\n\r\n    // Если получен JSON, то он парсится в объект\r\n    prepareStyle(style) {\r\n        if (typeof style === 'string') {\r\n            try { this.style_obj = JSON.parse(style) } catch (err) { console.error('CSSinJSON: JSON.parse(style) error') }\r\n        } else if (typeof style === 'object') {\r\n            this.style_obj = style;\r\n        }\r\n    }\r\n\r\n\r\n    init(selector, style) {\r\n        // Если получен JSON, то он парсится в объект\r\n        this.prepareStyle(style)\r\n            // Сгенерировать scopedId\r\n        this.scopedId = this.scopedIdGenerate();\r\n        // Если нужно, инициализирует scoped-систему\r\n        this.scopedInit(selector);\r\n\r\n        // Сгенерировать строку стилей из полученного объекта\r\n        this.style_string = this.jsonToStyle(this.style_obj);\r\n\r\n        // Вставить сгенерированные стили на страницу\r\n        this.injectStyle(this.style_string, document.head, 'CSSinJSON_style', this.scopedId);\r\n    }\r\n}\r\n\r\nwindow.CSSinJSON = CSSinJSON;","/*Функция из jQuery для объединения объектов\r\n * var newObj = extend(obj_1, obj_2);\r\n *\r\n * Для рекурсивного объединения\r\n * var newObj = extend(true, obj_1, obj_2);\r\n *\r\n * Работа функции изменяет первый объект obj_1\r\n * newObj === obj_1\r\n */\r\n\r\n\r\nexport default function extend() {\r\n    var options, name, src, copy, copyIsArray, clone,\r\n        target = arguments[0] || {},\r\n        i = 1,\r\n        length = arguments.length,\r\n        deep = false;\r\n    // Handle a deep copy situation\r\n    if (typeof target === \"boolean\") {\r\n        deep = target;\r\n        // Skip the boolean and the target\r\n        target = arguments[i] || {};\r\n        i++;\r\n    }\r\n    // Handle case when target is a string or something (possible in deep copy)\r\n    if (typeof target !== \"object\" && !isFunction(target)) {\r\n        target = {};\r\n    }\r\n    // Extend jQuery itself if only one argument is passed\r\n    if (i === length) {\r\n        target = this;\r\n        i--;\r\n    }\r\n    for (; i < length; i++) {\r\n        // Only deal with non-null/undefined values\r\n        if ((options = arguments[i]) != null) {\r\n            // Extend the base object\r\n            for (name in options) {\r\n                src = target[name];\r\n                copy = options[name];\r\n                // Prevent never-ending loop\r\n                if (target === copy) {\r\n                    continue;\r\n                }\r\n                // Recurse if we're merging plain objects or arrays\r\n                if (deep && copy && (isPlainObject(copy) ||\r\n                        (copyIsArray = Array.isArray(copy)))) {\r\n                    if (copyIsArray) {\r\n                        copyIsArray = false;\r\n                        clone = src && Array.isArray(src) ? src : [];\r\n                    } else {\r\n                        clone = src && isPlainObject(src) ? src : {};\r\n                    }\r\n                    // Never move original objects, clone them\r\n                    target[name] = extend(deep, clone, copy);\r\n                    // Don't bring in undefined values\r\n                } else if (copy !== undefined) {\r\n                    target[name] = copy;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    function isPlainObject(obj) {\r\n        var proto, Ctor;\r\n        // Detect obvious negatives\r\n        // Use toString instead of jQuery.type to catch host objects\r\n        if (!obj || toString.call(obj) !== \"[object Object]\") {\r\n            return false;\r\n        }\r\n        proto = getProto(obj);\r\n        // Objects with no prototype (e.g., `Object.create( null )`) are plain\r\n        if (!proto) {\r\n            return true;\r\n        }\r\n        // Objects with prototype are plain iff they were constructed by a global Object function\r\n        Ctor = hasOwn.call(proto, \"constructor\") && proto.constructor;\r\n        return typeof Ctor === \"function\" && fnToString.call(Ctor) === ObjectFunctionString;\r\n\r\n        function getProto(obj) {\r\n            obj = obj || {};\r\n            return obj.getPrototypeOf;\r\n        }\r\n\r\n        function class2type() {\r\n            return {};\r\n        }\r\n\r\n        function hasOwn(class2type) {\r\n            return class2type.hasOwnProperty;\r\n        }\r\n\r\n        function fnToString(hasOwn) {\r\n            return hasOwn.toString;\r\n        }\r\n    }\r\n\r\n    // Return the modified object\r\n    return target;\r\n};","import Download from 'downloadjs';\r\nimport ImgExtractorInterface from './interface'\r\n\r\nexport default class ImgExtractor {\r\n    constructor(params = {}) {\r\n        this.container = params.container ? document.querySelector(params.container) : document;\r\n        this.name_prefix = (params.rename && params.rename.prefix) ? params.rename.prefix : '';\r\n        this.name_suffix = (params.rename && params.rename.suffix) ? params.rename.suffix : '';\r\n        this.default_name_ext = 'svg';\r\n        this.name_index = 0;\r\n\r\n        this.autodownload = params.autodownload;\r\n\r\n        this.elems = {};\r\n        this.items = [];\r\n\r\n        this.mime_type = {\r\n            svg: 'image/svg+xml',\r\n            png: 'image/png',\r\n            jpg: 'image/jpeg',\r\n            jpeg: 'image/jpeg',\r\n            tiff: 'image/tiff',\r\n            webp: 'image/webp',\r\n        }\r\n\r\n        this.interface = null;\r\n\r\n\r\n        this.init();\r\n    }\r\n\r\n    _getTypeFilter() {\r\n        let filter = {};\r\n\r\n        for (let type in this.elems) {\r\n            filter[type] = true;\r\n        }\r\n\r\n        return filter;\r\n    }\r\n\r\n    _buildName(elem, ext = this.default_name_ext) {\r\n        let name = '';\r\n\r\n        if (elem.id) {\r\n            name = elem.id;\r\n        } else if (elem.classList.value !== '') {\r\n            name = elem.classList.value;\r\n        } else {\r\n            name = this.name_index++;\r\n        }\r\n\r\n        return `${this.name_prefix}${name}${this.name_suffix}.${ext}`;\r\n    }\r\n\r\n    // Метод, собирающий инлайновые svg со страницы\r\n    _collectInlineSvg() {\r\n        let ext = 'svg';\r\n        this.elems[ext] = this.container.querySelectorAll('svg');\r\n\r\n        this.elems[ext].forEach(elem => {\r\n            let item = {};\r\n\r\n            item.name = this._buildName(elem, ext);\r\n            item.content = elem.outerHTML;\r\n            item.ext = ext;\r\n\r\n            this.items.push(item);\r\n        });\r\n    }\r\n\r\n    // Метод загрузки всех собранных картинок\r\n    downloadAll() {\r\n        this.items.forEach(item => {\r\n            Download(item.content, item.name, this.mime_type[item.ext]);\r\n        })\r\n    }\r\n\r\n    // Метод получения элементов, содержащих картинки\r\n    getElements() {\r\n        return this.elems;\r\n    }\r\n\r\n    // Метод получения айтомов, содержащих объекты картинок, подготовленные к загрузке\r\n    getItems() {\r\n        return this.items;\r\n    }\r\n\r\n    init() {\r\n        // Запуск сбора инлайновых svg\r\n        this._collectInlineSvg();\r\n\r\n\r\n        // Если автоматический запуск скачивания всех найденных картинок включен,\r\n        if (this.autodownload) {\r\n            // то просто скачиваем их\r\n            this.downloadAll();\r\n\r\n            // Если автоматическое скачивание выключено, \r\n        } else {\r\n            // То инициализируем интерфейс\r\n            this.interface = new ImgExtractorInterface({\r\n                layout_id: 'img_extractor_interface',\r\n                items: this.getItems(),\r\n                filter: this._getTypeFilter(),\r\n            });\r\n\r\n            console.log(this.interface);\r\n\r\n        }\r\n\r\n    }\r\n}","export default class ImgExtractorInterfaceTemplates {\r\n    constructor(params = {}) {\r\n        this.colors = {\r\n            bg_container: 'rgba(0, 0, 0, .7)',\r\n            text: 'rgb(195, 207, 224)',\r\n            border: 'rgba(105, 109, 125, 0.4)',\r\n            accent: '#ffc000',\r\n            accent_alfa: 'rgba(255, 192, 0, .3)',\r\n        };\r\n\r\n    }\r\n\r\n    getLayoutTemplate() {\r\n        return `\r\n            <div class=\"interface_header\">\r\n                <div class=\"interface_hide\" title=\"Свернуть панель скачивания\">\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"${this.colors.text}\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\r\n                        <line x1=\"4\" y1=\"12\" x2=\"20\" y2=\"12\"/>\r\n                        <polyline points=\"14 6 20 12 14 18\"/>\r\n                    </svg>\r\n                </div>\r\n                <div class=\"header_text\">Выберите изображения для скачивания</div>\r\n            </div>\r\n            \r\n            <div class=\"interface_content\"></div>`;\r\n    }\r\n\r\n    getIcons() {\r\n        let icons = {\r\n            circleEmpty: '',\r\n            okCircled: '',\r\n        }\r\n    }\r\n\r\n    getFilterBtnTemplate(filter_name) {\r\n        let btn = document.createElement('div');\r\n        btn.className = 'filter_btn active';\r\n        btn.dataset.filter = filter_name;\r\n        btn.textContent = `.${filter_name}`;\r\n\r\n        return btn;\r\n    }\r\n\r\n    getListItem(item) {\r\n        return `<div>${item.name}</div>`;\r\n    }\r\n\r\n\r\n    getCommonStyle(vars) {\r\n        return {\r\n            // Контейнер интерфейса\r\n            [vars.layout_id]: {\r\n                backgroundColor: this.colors.bg_container,\r\n                boxShadow: `0 0 20px ${this.colors.bg_container}`,\r\n                color: this.colors.text,\r\n                fontFamily: 'sans-serif',\r\n                position: 'fixed',\r\n                maxWidth: '500px',\r\n                minWidth: '320px',\r\n                width: '40%',\r\n                height: '100vh',\r\n                boxSizing: 'border-box',\r\n                right: 0,\r\n                top: 0,\r\n                padding: '10px 15px',\r\n                transform: 'translate3d(0, 0, 1px)',\r\n                willChange: 'transform',\r\n                transition: 'all .25s ease-in-out',\r\n            },\r\n            [`${vars.layout_id}.close`]: {\r\n                transform: 'translate3d(100%, 0, 1px)',\r\n                boxShadow: 'none',\r\n            },\r\n\r\n            // Заголовок интерфейса\r\n            '.interface_header': {\r\n                display: 'flex',\r\n                borderBottom: '1px solid ' + this.colors.border,\r\n                marginBottom: '10px'\r\n            },\r\n            '.interface_hide': {\r\n                padding: '10px',\r\n                width: '28px',\r\n                display: 'flex',\r\n                justifyContent: 'center',\r\n                cursor: 'pointer',\r\n                transition: 'transform .25s ease-in-out',\r\n            },\r\n            '.interface_hide svg': {\r\n                transition: 'transform .25s ease-in-out',\r\n            },\r\n            '.interface_hide:hover svg': {\r\n                stroke: '#fff'\r\n            },\r\n            [`${vars.layout_id}.close .interface_hide`]: {\r\n                'background-color': this.colors.bg_container,\r\n                'border-radius': '5px 0 0 5px',\r\n                transform: 'translate3d(calc(-100% - 15px), 0, 1px)',\r\n            },\r\n            [`${vars.layout_id}.close .interface_hide svg`]: {\r\n                transform: 'rotate(180deg)',\r\n            },\r\n            '.header_text': {\r\n                flexGrow: 1,\r\n                display: 'flex',\r\n                alignItems: 'center',\r\n                justifyContent: 'space-around',\r\n            },\r\n            '.interface_content': {\r\n                overflowY: 'auto',\r\n            },\r\n\r\n            // Фильтр\r\n            '.filter_wrap': {\r\n                display: 'flex',\r\n                justifyContent: 'space-between',\r\n                marginBottom: '10px'\r\n            },\r\n            '.filter_btn': {\r\n                border: '1px solid',\r\n                borderColor: this.colors.border,\r\n                borderRadius: '2px',\r\n                padding: '5px 10px',\r\n                cursor: 'pointer',\r\n                opacity: 0.8,\r\n                userSelect: 'none'\r\n            },\r\n            '.filter_btn.active': {\r\n                borderColor: this.colors.accent,\r\n                color: this.colors.accent,\r\n            },\r\n\r\n            // Список айтемов картинок\r\n            '.list_item': {\r\n                border: `1px solid`,\r\n                // borderColor: this.colors.border,\r\n                borderColor: 'transparent',\r\n                borderRadius: '3px',\r\n                padding: '15px',\r\n                marginBottom: '5px',\r\n                backgroundColor: this.colors.bg_container,\r\n                cursor: 'pointer',\r\n                opacity: 0.5\r\n            },\r\n            [`.list_item${vars.list_item_slected}`]: {\r\n                // borderColor: this.colors.accent_alfa,\r\n                borderColor: this.colors.border,\r\n                opacity: 1,\r\n            }\r\n\r\n\r\n\r\n        } // Конец стилей\r\n    }\r\n}","import '../libs/CSSinJSON/app/js/css-in-json';\r\nimport ImgExtractorInterfaceTemplates from './interface-templates';\r\n\r\nexport default class ImgExtractorInterface {\r\n    constructor(params = {}) {\r\n        let that = this;\r\n\r\n        this.layout_id = params.layout_id;\r\n        this.items = params.items;\r\n        this._filter = params.filter;\r\n\r\n        this.parts = {\r\n            layout: null,\r\n            header: null,\r\n            content: null,\r\n            filter: null,\r\n            list: null\r\n        };\r\n\r\n        this.list_item_slected = 'selected';\r\n\r\n        this.cssinjs = null;\r\n        this.template = new ImgExtractorInterfaceTemplates();\r\n\r\n        this.state = {\r\n            _opened: true,\r\n            set opened(val) {\r\n                if (typeof val === 'boolean') {\r\n                    this._opened = val;\r\n                    if (that.parts.layout) {\r\n                        val ? that.parts.layout.classList.remove('close') :\r\n                            that.parts.layout.classList.add('close');\r\n                    }\r\n                }\r\n            },\r\n            get opened() {\r\n                return this._opened;\r\n            }\r\n        };\r\n\r\n\r\n        // Точка входа\r\n        this.init();\r\n    }\r\n\r\n    _handlerListItemSelect(item) {\r\n        item.classList.toggle(this.list_item_slected);\r\n\r\n        // TODO: Здесь надо будет вызывать фильтрацию выбранных айтомов\r\n    }\r\n\r\n    _makeList() {\r\n        this.parts.list = document.createElement('div');\r\n        this.parts.list.className = 'list_wrap';\r\n\r\n        this.parts.content.appendChild(this.parts.list);\r\n    }\r\n\r\n    _renderListItems(category) {\r\n        let items = this.items.filter(item => item.ext === category);\r\n\r\n        items.forEach(item => {\r\n            let list_item = document.createElement('div');\r\n            list_item.className = `list_item ${this.list_item_slected}`;\r\n            list_item.innerHTML = this.template.getListItem(item);\r\n\r\n            list_item.addEventListener('click', e => {\r\n                this._handlerListItemSelect(e.currentTarget);\r\n            });\r\n\r\n            this.parts.list.appendChild(list_item);\r\n        });\r\n    }\r\n\r\n    _clearListItems() {\r\n        this.parts.list.innerHTML = '';\r\n    }\r\n\r\n    listRender(filter_name, clear = true) {\r\n        if (clear) this._clearListItems();\r\n\r\n        if (filter_name && this._filter[filter_name]) {\r\n            this._renderListItems(filter_name);\r\n        } else if (!filter_name) {\r\n            this._clearListItems();\r\n\r\n            for (let category in this._filter) {\r\n                if (this._filter[category]) {\r\n                    this._renderListItems(category);\r\n                }\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    // Метод, создающий блок с кнопками фильтра\r\n    _makeFilter() {\r\n        this.parts.filter = document.createElement('div');\r\n        this.parts.filter.className = 'filter_wrap';\r\n\r\n        // Создаем кнопки по объекту фильтра\r\n        for (let filter_name in this._filter) {\r\n            let btn = this.template.getFilterBtnTemplate(filter_name);\r\n\r\n            // Вешаем на полученные кнопки обработчик переключения фильтра\r\n            btn.addEventListener('click', e => {\r\n                let elem = e.currentTarget;\r\n                let res = this.filter(elem.dataset.filter);\r\n                res ? elem.classList.add('active') : elem.classList.remove('active')\r\n            });\r\n\r\n            // Добавляем кнопку в контейнер\r\n            this.parts.filter.appendChild(btn);\r\n        }\r\n\r\n        // вставляем контейнер фильтра в интерфейс\r\n        this.parts.content.appendChild(this.parts.filter);\r\n    }\r\n\r\n    // Метод для изменения состояния фильтра\r\n    filter(name, val) {\r\n        if (val && typeof val === 'boolean') {\r\n            this._filter[name] = val;\r\n        } else if (val === undefined) {\r\n            this._filter[name] = !this._filter[name];\r\n        }\r\n\r\n        // TODO: Тут надо будет запускать рендер фильтрации\r\n        this.listRender();\r\n\r\n        return this._filter[name];\r\n    }\r\n\r\n    // Метод для сворачивания/разворачивания интерфейса\r\n    openToggle(e) {\r\n        this.state.opened = !this.state.opened;\r\n\r\n        if (e && this.state.opened) {\r\n            e.currentTarget.setAttribute('title', 'Свернуть ImgExtractor');\r\n        } else if (e && !this.state.opened) {\r\n            e.currentTarget.setAttribute('title', 'Развернуть ImgExtractor');\r\n        }\r\n    }\r\n\r\n    // Метод создания контейнера интерфейса\r\n    _makeLayout() {\r\n        this.parts.layout = document.createElement('div');\r\n        this.parts.layout.id = this.layout_id;\r\n        this.parts.layout.innerHTML = this.template.getLayoutTemplate();\r\n\r\n        // Сохраним в свойства шапку и контент интерфейса\r\n        this.parts.header = this.parts.layout.querySelector('.interface_header');\r\n        this.parts.content = this.parts.layout.querySelector('.interface_content');\r\n\r\n        // Вешаем обработчик на кнопку сворачивания/разворачивания интерфейса\r\n        this.parts.layout.querySelector('.interface_hide').addEventListener('click', e => {\r\n            this.openToggle(e);\r\n        });\r\n\r\n        document.body.appendChild(this.parts.layout);\r\n    }\r\n\r\n    init() {\r\n        // Создать контейнер интерфейса\r\n        this._makeLayout();\r\n\r\n        // Создаем блок фильтра\r\n        this._makeFilter();\r\n\r\n        // Создаем блок списка изображений\r\n        this._makeList();\r\n\r\n        // Заполняем блок списка айтемами\r\n        this.listRender();\r\n\r\n\r\n        // Добавить стили интерфейса на страницу, всегда в конце\r\n        this.cssinjs = new CSSinJSON({\r\n            style: this.template.getCommonStyle({\r\n                layout_id: '#' + this.layout_id,\r\n                list_item_slected: '.' + this.list_item_slected\r\n            }),\r\n            scopedElem: '#' + this.layout_id\r\n        });\r\n    }\r\n\r\n}","//download.js v4.2, by dandavis; 2008-2016. [MIT] see http://danml.com/download.html for tests/usage\n// v1 landed a FF+Chrome compat way of downloading strings to local un-named files, upgraded to use a hidden frame and optional mime\n// v2 added named files via a[download], msSaveBlob, IE (10+) support, and window.URL support for larger+faster saves than dataURLs\n// v3 added dataURL and Blob Input, bind-toggle arity, and legacy dataURL fallback was improved with force-download mime and base64 support. 3.1 improved safari handling.\n// v4 adds AMD/UMD, commonJS, and plain browser support\n// v4.1 adds url download capability via solo URL argument (same domain/CORS only)\n// v4.2 adds semantic variable names, long (over 2MB) dataURL support, and hidden by default temp anchors\n// https://github.com/rndme/download\n\n(function (root, factory) {\n\tif (typeof define === 'function' && define.amd) {\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine([], factory);\n\t} else if (typeof exports === 'object') {\n\t\t// Node. Does not work with strict CommonJS, but\n\t\t// only CommonJS-like environments that support module.exports,\n\t\t// like Node.\n\t\tmodule.exports = factory();\n\t} else {\n\t\t// Browser globals (root is window)\n\t\troot.download = factory();\n  }\n}(this, function () {\n\n\treturn function download(data, strFileName, strMimeType) {\n\n\t\tvar self = window, // this script is only for browsers anyway...\n\t\t\tdefaultMime = \"application/octet-stream\", // this default mime also triggers iframe downloads\n\t\t\tmimeType = strMimeType || defaultMime,\n\t\t\tpayload = data,\n\t\t\turl = !strFileName && !strMimeType && payload,\n\t\t\tanchor = document.createElement(\"a\"),\n\t\t\ttoString = function(a){return String(a);},\n\t\t\tmyBlob = (self.Blob || self.MozBlob || self.WebKitBlob || toString),\n\t\t\tfileName = strFileName || \"download\",\n\t\t\tblob,\n\t\t\treader;\n\t\t\tmyBlob= myBlob.call ? myBlob.bind(self) : Blob ;\n\t  \n\t\tif(String(this)===\"true\"){ //reverse arguments, allowing download.bind(true, \"text/xml\", \"export.xml\") to act as a callback\n\t\t\tpayload=[payload, mimeType];\n\t\t\tmimeType=payload[0];\n\t\t\tpayload=payload[1];\n\t\t}\n\n\n\t\tif(url && url.length< 2048){ // if no filename and no mime, assume a url was passed as the only argument\n\t\t\tfileName = url.split(\"/\").pop().split(\"?\")[0];\n\t\t\tanchor.href = url; // assign href prop to temp anchor\n\t\t  \tif(anchor.href.indexOf(url) !== -1){ // if the browser determines that it's a potentially valid url path:\n        \t\tvar ajax=new XMLHttpRequest();\n        \t\tajax.open( \"GET\", url, true);\n        \t\tajax.responseType = 'blob';\n        \t\tajax.onload= function(e){ \n\t\t\t\t  download(e.target.response, fileName, defaultMime);\n\t\t\t\t};\n        \t\tsetTimeout(function(){ ajax.send();}, 0); // allows setting custom ajax headers using the return:\n\t\t\t    return ajax;\n\t\t\t} // end if valid url?\n\t\t} // end if url?\n\n\n\t\t//go ahead and download dataURLs right away\n\t\tif(/^data:([\\w+-]+\\/[\\w+.-]+)?[,;]/.test(payload)){\n\t\t\n\t\t\tif(payload.length > (1024*1024*1.999) && myBlob !== toString ){\n\t\t\t\tpayload=dataUrlToBlob(payload);\n\t\t\t\tmimeType=payload.type || defaultMime;\n\t\t\t}else{\t\t\t\n\t\t\t\treturn navigator.msSaveBlob ?  // IE10 can't do a[download], only Blobs:\n\t\t\t\t\tnavigator.msSaveBlob(dataUrlToBlob(payload), fileName) :\n\t\t\t\t\tsaver(payload) ; // everyone else can save dataURLs un-processed\n\t\t\t}\n\t\t\t\n\t\t}else{//not data url, is it a string with special needs?\n\t\t\tif(/([\\x80-\\xff])/.test(payload)){\t\t\t  \n\t\t\t\tvar i=0, tempUiArr= new Uint8Array(payload.length), mx=tempUiArr.length;\n\t\t\t\tfor(i;i<mx;++i) tempUiArr[i]= payload.charCodeAt(i);\n\t\t\t \tpayload=new myBlob([tempUiArr], {type: mimeType});\n\t\t\t}\t\t  \n\t\t}\n\t\tblob = payload instanceof myBlob ?\n\t\t\tpayload :\n\t\t\tnew myBlob([payload], {type: mimeType}) ;\n\n\n\t\tfunction dataUrlToBlob(strUrl) {\n\t\t\tvar parts= strUrl.split(/[:;,]/),\n\t\t\ttype= parts[1],\n\t\t\tdecoder= parts[2] == \"base64\" ? atob : decodeURIComponent,\n\t\t\tbinData= decoder( parts.pop() ),\n\t\t\tmx= binData.length,\n\t\t\ti= 0,\n\t\t\tuiArr= new Uint8Array(mx);\n\n\t\t\tfor(i;i<mx;++i) uiArr[i]= binData.charCodeAt(i);\n\n\t\t\treturn new myBlob([uiArr], {type: type});\n\t\t }\n\n\t\tfunction saver(url, winMode){\n\n\t\t\tif ('download' in anchor) { //html5 A[download]\n\t\t\t\tanchor.href = url;\n\t\t\t\tanchor.setAttribute(\"download\", fileName);\n\t\t\t\tanchor.className = \"download-js-link\";\n\t\t\t\tanchor.innerHTML = \"downloading...\";\n\t\t\t\tanchor.style.display = \"none\";\n\t\t\t\tdocument.body.appendChild(anchor);\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tanchor.click();\n\t\t\t\t\tdocument.body.removeChild(anchor);\n\t\t\t\t\tif(winMode===true){setTimeout(function(){ self.URL.revokeObjectURL(anchor.href);}, 250 );}\n\t\t\t\t}, 66);\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t// handle non-a[download] safari as best we can:\n\t\t\tif(/(Version)\\/(\\d+)\\.(\\d+)(?:\\.(\\d+))?.*Safari\\//.test(navigator.userAgent)) {\n\t\t\t\tif(/^data:/.test(url))\turl=\"data:\"+url.replace(/^data:([\\w\\/\\-\\+]+)/, defaultMime);\n\t\t\t\tif(!window.open(url)){ // popup blocked, offer direct download:\n\t\t\t\t\tif(confirm(\"Displaying New Document\\n\\nUse Save As... to download, then click back to return to this page.\")){ location.href=url; }\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t//do iframe dataURL download (old ch+FF):\n\t\t\tvar f = document.createElement(\"iframe\");\n\t\t\tdocument.body.appendChild(f);\n\n\t\t\tif(!winMode && /^data:/.test(url)){ // force a mime that will download:\n\t\t\t\turl=\"data:\"+url.replace(/^data:([\\w\\/\\-\\+]+)/, defaultMime);\n\t\t\t}\n\t\t\tf.src=url;\n\t\t\tsetTimeout(function(){ document.body.removeChild(f); }, 333);\n\n\t\t}//end saver\n\n\n\n\n\t\tif (navigator.msSaveBlob) { // IE10+ : (has Blob, but not a[download] or URL)\n\t\t\treturn navigator.msSaveBlob(blob, fileName);\n\t\t}\n\n\t\tif(self.URL){ // simple fast and modern way using Blob and URL:\n\t\t\tsaver(self.URL.createObjectURL(blob), true);\n\t\t}else{\n\t\t\t// handle non-Blob()+non-URL browsers:\n\t\t\tif(typeof blob === \"string\" || blob.constructor===toString ){\n\t\t\t\ttry{\n\t\t\t\t\treturn saver( \"data:\" +  mimeType   + \";base64,\"  +  self.btoa(blob)  );\n\t\t\t\t}catch(y){\n\t\t\t\t\treturn saver( \"data:\" +  mimeType   + \",\" + encodeURIComponent(blob)  );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Blob but not URL support:\n\t\t\treader=new FileReader();\n\t\t\treader.onload=function(e){\n\t\t\t\tsaver(this.result);\n\t\t\t};\n\t\t\treader.readAsDataURL(blob);\n\t\t}\n\t\treturn true;\n\t}; /* end download() */\n}));\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJhcHAvanMvYXBwLmpzIiwiYXBwL2pzL2xpYnMvQ1NTaW5KU09OL2FwcC9qcy9jc3MtaW4tanNvbi5qcyIsImFwcC9qcy9saWJzL0NTU2luSlNPTi9hcHAvanMvbW9kdWxlcy9leHRlbmQuanMiLCJhcHAvanMvbW9kdWxlcy9pbWctZXh0cmFjdG9yLmpzIiwiYXBwL2pzL21vZHVsZXMvaW50ZXJmYWNlLXRlbXBsYXRlcy5qcyIsImFwcC9qcy9tb2R1bGVzL2ludGVyZmFjZS5qcyIsIm5vZGVfbW9kdWxlcy9kb3dubG9hZGpzL2Rvd25sb2FkLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7QUNBQTs7OztBQUVBO0FBQ0E7QUFJQSxNQUFNLENBQUMsWUFBUCxHQUFzQixJQUFJLHFCQUFKLENBQWlCO0FBQ25DO0FBQ0EsRUFBQSxNQUFNLEVBQUUsQ0FDSjtBQUNBO0FBRkksR0FGMkIsQ0FNbkM7O0FBTm1DLENBQWpCLENBQXRCLEMsQ0FTQTtBQUNBOztBQUdBLE9BQU8sQ0FBQyxHQUFSLENBQVksWUFBWixFLENBRUE7Ozs7O0FDdEJBOzs7Ozs7Ozs7Ozs7SUFHTSxTOzs7QUFDRix1QkFBMEI7QUFBQSxRQUFkLE9BQWMsdUVBQUosRUFBSTs7QUFBQTs7QUFDdEIsU0FBSyxjQUFMLEdBQXNCLEVBQXRCLENBRHNCLENBQ0k7O0FBQzFCLFNBQUssWUFBTCxHQUFvQixFQUFwQixDQUZzQixDQUVFOztBQUN4QixTQUFLLE1BQUwsR0FBYyxLQUFkLENBSHNCLENBR0Q7O0FBQ3JCLFNBQUssU0FBTCxHQUFpQixFQUFqQixDQUpzQixDQUlEOztBQUNyQixTQUFLLFFBQUwsR0FBZ0IsRUFBaEIsQ0FMc0IsQ0FLRjs7QUFDcEIsU0FBSyxZQUFMLEdBQW9CLEVBQXBCLENBTnNCLENBTUU7O0FBQ3hCLFNBQUssTUFBTCxHQUFjLENBQWQ7QUFHQSxTQUFLLE1BQUwsR0FBYyxlQUFkLENBVnNC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Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKXtmdW5jdGlvbiByKGUsbix0KXtmdW5jdGlvbiBvKGksZil7aWYoIW5baV0pe2lmKCFlW2ldKXt2YXIgYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFmJiZjKXJldHVybiBjKGksITApO2lmKHUpcmV0dXJuIHUoaSwhMCk7dmFyIGE9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitpK1wiJ1wiKTt0aHJvdyBhLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsYX12YXIgcD1uW2ldPXtleHBvcnRzOnt9fTtlW2ldWzBdLmNhbGwocC5leHBvcnRzLGZ1bmN0aW9uKHIpe3ZhciBuPWVbaV1bMV1bcl07cmV0dXJuIG8obnx8cil9LHAscC5leHBvcnRzLHIsZSxuLHQpfXJldHVybiBuW2ldLmV4cG9ydHN9Zm9yKHZhciB1PVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUsaT0wO2k8dC5sZW5ndGg7aSsrKW8odFtpXSk7cmV0dXJuIG99cmV0dXJuIHJ9KSgpIiwiaW1wb3J0IEltZ0V4dHJhY3RvciBmcm9tICcuL21vZHVsZXMvaW1nLWV4dHJhY3Rvci5qcydcclxuXHJcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG4vLyBodHRwczovL3J1Lndpa2lwZWRpYS5vcmcvd2lraS/QodC/0LjRgdC+0LpfTUlNRS3RgtC40L/QvtCyXHJcblxyXG5cclxuXHJcbndpbmRvdy5pbWdFeHRyYWN0b3IgPSBuZXcgSW1nRXh0cmFjdG9yKHtcclxuICAgIC8vIGNvbnRhaW5lcjogJy5pdGVtLmZpcnN0JyxcclxuICAgIHJlbmFtZToge1xyXG4gICAgICAgIC8vIHByZWZpeDogJ3ByZWZfJyxcclxuICAgICAgICAvLyBzdWZmaXg6ICdfc3VmJ1xyXG4gICAgfSxcclxuICAgIC8vIGF1dG9kb3dubG9hZDogdHJ1ZVxyXG59KTtcclxuXHJcbi8vIGNvbnNvbGUubG9nKHdpbmRvdy5pbWdFeHRyYWN0b3IuZ2V0RWxlbWVudHMoKSk7XHJcbi8vIGNvbnNvbGUubG9nKHdpbmRvdy5pbWdFeHRyYWN0b3IuZ2V0SXRlbXMoKSk7XHJcblxyXG5cclxuY29uc29sZS5sb2coaW1nRXh0cmFjdG9yKTtcclxuXHJcbi8vIHdpbmRvdy5pbWdFeHRyYWN0b3IuZG93bmxvYWRBbGwoKTsiLCJpbXBvcnQgRXh0ZW5kIGZyb20gJy4vbW9kdWxlcy9leHRlbmQnO1xyXG5cclxuXHJcbmNsYXNzIENTU2luSlNPTiB7XHJcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zID0ge30pIHtcclxuICAgICAgICB0aGlzLmVsZW1zX3NlbGVjdG9yID0gW107IC8vINCh0LXQu9C10LrRgtC+0YDRiyDQsdCw0LfQvtCy0YvRhSDRjdC70LXQvNC10L3RgtC+0LJcclxuICAgICAgICB0aGlzLnNjb3BlZF9lbGVtcyA9IFtdOyAvLyDQodCw0LzQuCDQsdCw0LfQvtCy0YvQtSDRjdC70LXQvNC10L3RgtGLXHJcbiAgICAgICAgdGhpcy5zY29wZWQgPSBmYWxzZTsgLy8g0KTQu9Cw0LMg0LjQt9C+0LvRj9GG0LjQuCDRgdGC0LjQu9C10LlcclxuICAgICAgICB0aGlzLnN0eWxlX29iaiA9IHt9OyAvLyDQntCx0YrQtdC60YIg0YHRgtC40LvQtdC5XHJcbiAgICAgICAgdGhpcy5zY29wZWRJZCA9ICcnOyAvLyDQl9C00LXRgdGMINCx0YPQtNC10YIg0YHQs9C10L3QtdGA0LjRgNC+0LLQsNC90L3Ri9C5IGlkINC00LvRjyDQuNC30L7Qu9GP0YbQuNC4INGB0YLQuNC70LXQuVxyXG4gICAgICAgIHRoaXMuc3R5bGVfc3RyaW5nID0gJyc7IC8vINCX0LTQtdGB0Ywg0LHRg9C00YPRgiDRgdCz0LXQvdC10YDQuNGA0L7QstCw0L3QvdGL0LUg0YHRgtC40LvQuCDQsiDQstC40LTQtSDRgdGC0YDQvtC60LhcclxuICAgICAgICB0aGlzLmluZGVudCA9IDQ7XHJcblxyXG5cclxuICAgICAgICB0aGlzLkV4dGVuZCA9IEV4dGVuZDsgLy8g0J/Qu9Cw0LPQuNC9INC+0LHRitC10LTQuNC90LXQvdC40Y8g0L7QsdGK0LXQutGC0L7QslxyXG5cclxuXHJcbiAgICAgICAgLy8g0KLQvtGH0LrQsCDQstGF0L7QtNCwLCDQv9GA0LjQvdC40LzQsNC10YIg0YHQtdC70LXQutGC0L7RgCjRiykg0LHQsNC30L7QstGL0YUg0Y3Qu9C10LzQtdC90YLQvtCyXHJcbiAgICAgICAgdGhpcy5pbml0KG9wdGlvbnMuc2NvcGVkRWxlbSwgb3B0aW9ucy5zdHlsZSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8g0JPQtdC90LXRgNCw0YLQvtGAINGA0LDQvdC00L7QvNC90L7Qs9C+INGH0LjRgdC70LBcclxuICAgIHJhbmQobWluLCBtYXgpIHtcclxuICAgICAgICBsZXQgcmFuZCA9IE1hdGguZmxvb3IobWluICsgTWF0aC5yYW5kb20oKSAqIChtYXggKyAxIC0gbWluKSk7XHJcbiAgICAgICAgcmV0dXJuIHJhbmQ7XHJcbiAgICB9XHJcblxyXG4gICAgLy8g0JrQvtC90LLQtdGA0YLQtdGAIGNhbWVsQ2FzZSDQsiBjZWJhYi1jYXNlXHJcbiAgICBjYW1lbFRvS2ViYWIoY2FtZWwpIHtcclxuICAgICAgICByZXR1cm4gY2FtZWwucmVwbGFjZSgvKFthLXpdKShbQS1aXSkvZywgJyQxLSQyJykudG9Mb3dlckNhc2UoKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBUT0RPOiDRgNCw0LfQvtCx0YDQsNGC0YzRgdGPINGBINGN0YLQuNC8INC80LXRgtC+0LTQvtC8XHJcbiAgICAvLyDQnNC10YLQvtC0INGA0LDRgdGI0LjRgNC10L3QuNGPINGB0YLQuNC70LXQuSwg0L/QvtC60LAg0YDQsNCx0L7RgtCw0LXRgiDQvdC1INC/0YDQsNCy0LjQu9GM0L3QvlxyXG4gICAgZXh0ZW5kKG9iajEsIG9iajIpIHtcclxuICAgICAgICB0aGlzLnN0eWxlX29iaiA9IHRoaXMuRXh0ZW5kKG9iajEsIG9iajIpO1xyXG4gICAgICAgIHRoaXMuc3R5bGVfc3RyaW5nID0gdGhpcy5qc29uVG9TdHlsZSh0aGlzLnN0eWxlX29iaiwgdGhpcy5zY29wZWRJZCk7XHJcbiAgICAgICAgdGhpcy51cGRhdGVTdHlsZUluamVjdCh0aGlzLnN0eWxlX3N0cmluZywgdGhpcy5zY29wZWRJZCk7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLnN0eWxlX3N0cmluZztcclxuICAgIH1cclxuXHJcbiAgICAvLyDQktGB0YLQsNCy0LrQsCDQvdC+0LLRi9GFINGB0YLQuNC70LXQuSDQsiDQs9C+0YLQvtCy0YvQuSDRjdC70LXQvNC10L3RgiBzdHlsZVxyXG4gICAgdXBkYXRlU3R5bGVJbmplY3Qoc3R5bGVfY29udGVudCwgc2NvcGVkKSB7XHJcbiAgICAgICAgbGV0IHN0bCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCMke3Njb3BlZH1gKTtcclxuICAgICAgICBzdGwudGV4dENvbnRlbnQgPSBzdHlsZV9jb250ZW50O1xyXG4gICAgfVxyXG5cclxuICAgIHJlbW92ZVN0eWxlKHBhcmVudCA9IGRvY3VtZW50LmhlYWQsIHNjb3BlZCA9IHRoaXMuc2NvcGVkSWQpIHtcclxuICAgICAgICBsZXQgc3R5bGVfZWxlbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCMke3Njb3BlZH1gKTtcclxuICAgICAgICBpZiAoc3R5bGVfZWxlbSkge1xyXG4gICAgICAgICAgICBwYXJlbnQucmVtb3ZlQ2hpbGQoc3R5bGVfZWxlbSk7XHJcbiAgICAgICAgICAgIHRoaXMuc2NvcGVkX2VsZW1zLmZvckVhY2goZWxlbSA9PiBlbGVtLnJlbW92ZUF0dHJpYnV0ZSgnZGF0YS1zY29wZWQnKSk7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIGFkZFN0eWxlKCkge1xyXG4gICAgICAgIGxldCBzdHlsZV9lbGVtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgIyR7dGhpcy5zY29wZWRJZH1gKTtcclxuICAgICAgICBpZiAoIXN0eWxlX2VsZW0pIHtcclxuICAgICAgICAgICAgdGhpcy5pbmplY3RTdHlsZSh0aGlzLnN0eWxlX3N0cmluZywgZG9jdW1lbnQuaGVhZCwgJ0NTU2luSlNPTl9zdHlsZScsIHRoaXMuc2NvcGVkSWQpO1xyXG4gICAgICAgICAgICB0aGlzLmFkZFNjb3BlZEF0dHIodGhpcy5zY29wZWRfZWxlbXMpO1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICAvLyDQodC+0LfQtNCw0L3QuNC1INC90L7QstC+0LPQviDRjdC70LXQvNC10L3RgtCwIHN0eWxlINC4INC30LDQv9C+0LvQvdC10L3QuNC1INC10LPQviDQsNGC0YDQuNCx0YPRgtCw0LzQuCDQuCDRgdGC0LjQu9GP0LzQuFxyXG4gICAgaW5qZWN0U3R5bGUoc3R5bGVfY29udGVudCA9IHRoaXMuc3R5bGVfc3RyaW5nLCBlbGVtID0gZG9jdW1lbnQuaGVhZCwgY2xhc3NfbmFtZSA9ICdDU1NpbkpTT05fc3R5bGUnLCBzY29wZWQgPSB0aGlzLnNjb3BlZElkKSB7XHJcbiAgICAgICAgbGV0IHN0bCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XHJcbiAgICAgICAgc3RsLmlkID0gc2NvcGVkO1xyXG4gICAgICAgIHN0bC5jbGFzc05hbWUgPSBjbGFzc19uYW1lO1xyXG4gICAgICAgIHN0bC50ZXh0Q29udGVudCA9IHN0eWxlX2NvbnRlbnQ7XHJcbiAgICAgICAgZWxlbS5hcHBlbmRDaGlsZChzdGwpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vINCf0L7QtNCz0L7RgtC+0LLQutCwINGB0LXQu9C10LrRgtC+0YDQsCDQuiDQuNGB0L/QvtC70YzQt9C+0LLQsNC90LjRjiDQsiDRgNC10LPRg9C70Y/RgNC60LVcclxuICAgIHByZXBhcmVTZWxlY3RvcihzZWxlY3Rvcikge1xyXG4gICAgICAgIHJldHVybiBzZWxlY3Rvci5yZXBsYWNlKC8oW1xcLlxcI10pL2dtaSwgJ1xcXFwkMScpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vINCc0LXRgtC+0LQg0L7QsdGA0LDQsdC+0YLQutC4INGB0LXQu9C10LrRgtC+0YDQvtCyINC00LvRjyBzY29wZWQt0YDQtdC20LjQvNCwXHJcbiAgICAvLyDQldGB0LvQuCDRgdC10LvQtdC60YLQvtGAINGB0L7QvtGC0LLQtdGC0YHRgtCy0YPQtdGCINCx0LDQt9C+0LLQvtC80YMsINC6INC90LXQvNGDINC00L7Qv9C40YjQtdGC0YHRjyDQsNGC0YDQuNCx0YPRgiBzY29wZWRcclxuICAgIC8vINCV0YHQu9C4INGB0LXQu9C10LrRgtC+0YAg0L3QtSDRgdC+0L7RgtCy0LXRgtGB0YLQstGD0LXRgiDQsdCw0LfQvtCy0L7QvNGDLCDRgtC+INC+0L0g0LHRg9C00LXRgiDQvdCw0YHQu9C10LTQvtCy0LDRgtGM0YHRjyDQvtGCINCw0YLRgNC40LHRg9GC0LAgc2NvcGVkXHJcbiAgICBzY29wZVNlbGVjdG9yKHNlbGVjdG9yLCBzdHIsIHNjb3BlZF9hdHRyKSB7XHJcbiAgICAgICAgaWYgKHNlbGVjdG9yID09PSB0aGlzLnByZXBhcmVTZWxlY3RvcihzZWxlY3RvcikgJiYgc3RyICE9PSAnYm9keScpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGAke3Njb3BlZF9hdHRyfSAke3N0cn1gO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoc3RyID09PSAnYm9keScpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHN0cjtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IHJlZ19zdHIgPSBgKD86XnxbXlxcXFwgXFxcXHRdKSgke3RoaXMucHJlcGFyZVNlbGVjdG9yKHNlbGVjdG9yKX0pKD89JHxbXFxcXHNcXFxcLlxcXFwjPl0pYDtcclxuICAgICAgICBsZXQgcmVnZXggPSBuZXcgUmVnRXhwKHJlZ19zdHIsICdnbScpO1xyXG5cclxuICAgICAgICBsZXQgbWF0Y2gsIG1hdGNoZXMsIHN0cl9iZWZvcmUsIHN0cl9hZnRlciwgbGFzdEluZGV4O1xyXG4gICAgICAgIHdoaWxlICgobWF0Y2ggPSByZWdleC5leGVjKHN0cikpICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIGlmIChtYXRjaC5pbmRleCA9PT0gcmVnZXgubGFzdEluZGV4KSB7XHJcbiAgICAgICAgICAgICAgICByZWdleC5sYXN0SW5kZXgrKztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgbWF0Y2hlcyA9IG1hdGNoLnNsaWNlKCk7XHJcblxyXG4gICAgICAgICAgICBsYXN0SW5kZXggPSByZWdleC5sYXN0SW5kZXg7XHJcbiAgICAgICAgICAgIHN0cl9iZWZvcmUgPSBzdHIuc2xpY2UoMCwgcmVnZXgubGFzdEluZGV4IC0gbWF0Y2hbMV0ubGVuZ3RoKTtcclxuICAgICAgICAgICAgc3RyX2FmdGVyID0gc3RyLnNsaWNlKHJlZ2V4Lmxhc3RJbmRleCk7XHJcblxyXG4gICAgICAgICAgICBzdHIgPSBzdHJfYmVmb3JlICsgbWF0Y2hbMV0ucmVwbGFjZShyZWdleCwgJyQxJyArIHNjb3BlZF9hdHRyKSArIHN0cl9hZnRlcjtcclxuICAgICAgICAgICAgcmVnZXgubGFzdEluZGV4ICs9IHNjb3BlZF9hdHRyLmxlbmd0aDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdsYXN0SW5kZXg6ICcsIGxhc3RJbmRleCk7XHJcbiAgICAgICAgc3RyID0gKGxhc3RJbmRleCA9PT0gdW5kZWZpbmVkKSA/IGAke3Njb3BlZF9hdHRyfSAke3N0cn1gIDogc3RyO1xyXG5cclxuXHJcbiAgICAgICAgcmV0dXJuIHN0cjtcclxuICAgIH1cclxuXHJcbiAgICAvLyDQnNC10YLQvtC0INC00LvRjyDQs9C10L3QtdGA0LDRhtC40Lgg0YHQtdC70LXQutGC0L7RgNC+0LIg0YEg0LDRgtGA0LjQsdGD0YLQvtC8IHNjb3BlZC5cclxuICAgIC8vINCg0LDQt9Cx0LjRgNCw0LXRgiDQvdC10YHQutC+0LvRjNC60L4g0YHQtdC70LXQutGC0L7RgNC+0LIsINGD0LrQsNC30LDQvdC90YvRhSDRh9C10YDQtdC3INC30LDQv9GP0YLRg9GOXHJcbiAgICBzY29wZWRTZWxlY3RvckdlbmVyYXRlKHNlbGVjdG9yKSB7XHJcbiAgICAgICAgbGV0IHJlZ2V4ID0gLygsXFxzKlxcbipcXHQqKS9nbTtcclxuICAgICAgICBsZXQgc2VsZWN0b3JfYXJyID0gc2VsZWN0b3Iuc3BsaXQocmVnZXgpLmZpbHRlcihzZWxlY3RvciA9PiAoc2VsZWN0b3Iuc2VhcmNoKHJlZ2V4KSA9PT0gLTEpID8gdHJ1ZSA6IGZhbHNlKTtcclxuICAgICAgICBsZXQgc2NvcGVkX2F0dHIgPSBgW2RhdGEtc2NvcGVkPSR7dGhpcy5zY29wZWRJZH1dYDtcclxuICAgICAgICBsZXQgbmV3X3NlbGVjdG9yID0gJyc7XHJcblxyXG4gICAgICAgIC8vINCm0LjQutC7INC/0L4g0YHQtdC70LXQutGC0L7RgNCw0LwsINGD0LrQsNC30LDQvdC90YvQvCDQsiDRgdGC0LjQu9GP0YUg0YfQtdGA0LXQtyDQt9Cw0L/Rj9GC0YPRjlxyXG4gICAgICAgIHNlbGVjdG9yX2Fyci5mb3JFYWNoKHNlbGVjdG9yID0+IHtcclxuICAgICAgICAgICAgLy8g0JXRgdC70Lgg0L3QsNC00L4g0LPQtdC90LXRgNC40YDQvtCy0LDRgtGMINC40LfQvtC70LjRgNC+0LLQsNC90L3Ri9C1INGB0YLQuNC70LhcclxuICAgICAgICAgICAgaWYgKHRoaXMuc2NvcGVkKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8g0KbQuNC60Lsg0L/QviDQutCw0LbQtNC+0LzRgyDQsdCw0LfQvtCy0L7QvNGDINGB0LXQu9C10LrRgtC+0YDRg1xyXG4gICAgICAgICAgICAgICAgbGV0IHByZXZfaW5uZXJfbmV3X3NlbGVjdG9yID0gJyc7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmVsZW1zX3NlbGVjdG9yLmZvckVhY2goc2NvcGVkX2VsZW0gPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBpbm5lcl9uZXdfc2VsZWN0b3IgPSAnJztcclxuICAgICAgICAgICAgICAgICAgICBpbm5lcl9uZXdfc2VsZWN0b3IgPSB0aGlzLnNjb3BlU2VsZWN0b3Ioc2NvcGVkX2VsZW0sIHNlbGVjdG9yLCBzY29wZWRfYXR0cikgKyAnLFxcbic7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vINCf0YDQvtCy0LXRgNC60LAg0L3QsCDRgtC+LCDRh9GC0L7QsdGLINC90LUg0LTRg9Cx0LvQuNGA0L7QstCw0LvQuNGB0Ywg0YHQtdC70LXQutGC0L7RgNGLLCDQtdGB0LvQuCDQvtC90Lgg0YHQvtCy0L/QsNC00LDRjtGCINCy0L4g0LLQvdGD0YLRgNC10L3QvdC10Lwg0YbQuNC60LvQtVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwcmV2X2lubmVyX25ld19zZWxlY3RvciAhPT0gaW5uZXJfbmV3X3NlbGVjdG9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld19zZWxlY3RvciArPSBpbm5lcl9uZXdfc2VsZWN0b3I7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByZXZfaW5uZXJfbmV3X3NlbGVjdG9yID0gaW5uZXJfbmV3X3NlbGVjdG9yO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vINCV0YHQu9C4INCd0JUg0L3QsNC00L4g0LPQtdC90LXRgNC40YDQvtCy0LDRgtGMINC40LfQvtC70LjRgNC+0LLQsNC90L3Ri9C1INGB0YLQuNC70LhcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIG5ld19zZWxlY3RvciArPSBgJHtzZWxlY3Rvcn0sXFxuYDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIHJldHVybiBuZXdfc2VsZWN0b3Iuc2xpY2UoMCwgLTIpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vINCT0LXQvdC10YDQuNGA0YPQtdGCINGB0YLRgNC+0LrQvtCy0YvQtSDRgdGC0LjQu9C4INC00LvRjyDQvtC00L3QvtCz0L4g0YHQtdC70LXQutGC0L7RgNCwXHJcbiAgICBvYmpUb1N0eWxlKHNlbGVjdG9yLCBvYmopIHtcclxuICAgICAgICBsZXQgc3R5bGUgPSAnJztcclxuICAgICAgICBmb3IgKGxldCBwcm9wIGluIG9iaikge1xyXG4gICAgICAgICAgICBzdHlsZSArPSBgXFxuJHsnICcucmVwZWF0KHRoaXMuaW5kZW50KX0ke3RoaXMuY2FtZWxUb0tlYmFiKHByb3ApfTogJHtvYmpbcHJvcF19O2BcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBgJHt0aGlzLnNjb3BlZFNlbGVjdG9yR2VuZXJhdGUoc2VsZWN0b3IpfSB7JHtzdHlsZX1cXG59YDtcclxuXHJcblxyXG4gICAgfVxyXG5cclxuICAgIC8vINCT0LXQvdC10YDQuNGA0YPQtdGCINC/0L7Qu9C90YvQtSDRgdGC0LjQu9C4INC/0L4g0LLRhdC+0LTRj9GJ0LXQvNGDINC+0LHRitC10LrRgtGDXHJcbiAgICBqc29uVG9TdHlsZShqc29uKSB7XHJcbiAgICAgICAgbGV0IHN0eWxlID0gJyc7XHJcbiAgICAgICAgZm9yIChsZXQgc2VsZWN0b3IgaW4ganNvbikge1xyXG4gICAgICAgICAgICBzdHlsZSArPSB0aGlzLm9ialRvU3R5bGUoc2VsZWN0b3IsIGpzb25bc2VsZWN0b3JdKSArICdcXG5cXG4nO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHN0eWxlO1xyXG4gICAgfVxyXG5cclxuICAgIC8vINCS0LXRiNCw0LXRgiDQvdCwINCx0LDQt9C+0LLRi9C1INGN0LvQtdC80LXQvdGC0Ysgc2NvcGVkLdCw0YLRgNC40LHRg9GCINC00LvRjyDQuNC30L7Qu9GP0YbQuNC4INGB0YLQuNC70LXQuVxyXG4gICAgYWRkU2NvcGVkQXR0cihlbGVtcykge1xyXG4gICAgICAgIGVsZW1zLmZvckVhY2goZWxlbSA9PiBlbGVtLmRhdGFzZXQuc2NvcGVkID0gdGhpcy5zY29wZWRJZClcclxuICAgIH1cclxuXHJcbiAgICAvLyDQndCw0YXQvtC00LjRgiDQstGB0LUg0Y3Qu9C10LzQtdC90YLRiywg0YPQutCw0LfQsNC90L3Ri9C1INCyINC60LDRh9C10YHRgtCy0LUg0LHQsNC30L7QstGL0YUsINGB0L7QsdC40YDQsNC10YIg0Y3RgtC4INGN0LvQtdC80LXQvdGC0Ysg0LhcclxuICAgIC8vINC40YUg0YHQtdC70LXQutGC0L7RgNGLINCyINGB0L7QvtGC0LLQtdGC0YHRgtCy0YPRjtGJ0LjQtSDQvNCw0YHRgdC40LLRiyBcclxuICAgIGZpbmRTY29wZWRFbGVtcyhzZWxlY3Rvcikge1xyXG4gICAgICAgIGxldCBlbGVtc19vZl9zZWxlY3RvcjtcclxuICAgICAgICBpZiAodHlwZW9mIHNlbGVjdG9yID09PSAnb2JqZWN0Jykge1xyXG4gICAgICAgICAgICBzZWxlY3Rvci5mb3JFYWNoKGVsZW1lbnQgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5lbGVtc19zZWxlY3Rvci5wdXNoKGVsZW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgZWxlbXNfb2Zfc2VsZWN0b3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGVsZW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGVsZW1zX29mX3NlbGVjdG9yICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbXNfb2Zfc2VsZWN0b3IuZm9yRWFjaChlbGVtID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZWxlbS5kYXRhc2V0LnNjb3BlZCA9IHRoaXMuc2NvcGVkSWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2NvcGVkX2VsZW1zLnB1c2goZWxlbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2Ygc2VsZWN0b3IgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZWxlbXNfc2VsZWN0b3IucHVzaChzZWxlY3Rvcik7XHJcbiAgICAgICAgICAgIGVsZW1zX29mX3NlbGVjdG9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7XHJcblxyXG4gICAgICAgICAgICBpZiAoZWxlbXNfb2Zfc2VsZWN0b3IgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIGVsZW1zX29mX3NlbGVjdG9yLmZvckVhY2goZWxlbSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gZWxlbS5kYXRhc2V0LnNjb3BlZCA9IHRoaXMuc2NvcGVkSWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zY29wZWRfZWxlbXMucHVzaChlbGVtKTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc2NvcGVkSW5pdChzZWxlY3Rvcikge1xyXG4gICAgICAgIHRoaXMuZmluZFNjb3BlZEVsZW1zKHNlbGVjdG9yKTtcclxuICAgICAgICBpZiAodGhpcy5zY29wZWRfZWxlbXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICB0aGlzLnNjb3BlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkU2NvcGVkQXR0cih0aGlzLnNjb3BlZF9lbGVtcyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vINCT0LXQvdC10YDQsNGC0L7RgCBpZCDQtNC70Y8g0LjQt9C+0LvRj9GG0LjQuCDRgdGC0LjQu9C10LkgLSDRgdGC0YDQvtC60LAgMTAg0YHQuNC80LLQvtC70L7QsiDQsiDQtNC40LDQv9Cw0LfQvtC90LUgYS16XHJcbiAgICBzY29wZWRJZEdlbmVyYXRlKCkge1xyXG4gICAgICAgIGxldCBpZCA9ICcnO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTA7IGkrKykge1xyXG4gICAgICAgICAgICBpZCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKHRoaXMucmFuZCg5NywgMTIyKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gaWQ7XHJcbiAgICB9XHJcblxyXG4gICAgLy8g0JXRgdC70Lgg0L/QvtC70YPRh9C10L0gSlNPTiwg0YLQviDQvtC9INC/0LDRgNGB0LjRgtGB0Y8g0LIg0L7QsdGK0LXQutGCXHJcbiAgICBwcmVwYXJlU3R5bGUoc3R5bGUpIHtcclxuICAgICAgICBpZiAodHlwZW9mIHN0eWxlID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICB0cnkgeyB0aGlzLnN0eWxlX29iaiA9IEpTT04ucGFyc2Uoc3R5bGUpIH0gY2F0Y2ggKGVycikgeyBjb25zb2xlLmVycm9yKCdDU1NpbkpTT046IEpTT04ucGFyc2Uoc3R5bGUpIGVycm9yJykgfVxyXG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHN0eWxlID09PSAnb2JqZWN0Jykge1xyXG4gICAgICAgICAgICB0aGlzLnN0eWxlX29iaiA9IHN0eWxlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG4gICAgaW5pdChzZWxlY3Rvciwgc3R5bGUpIHtcclxuICAgICAgICAvLyDQldGB0LvQuCDQv9C+0LvRg9GH0LXQvSBKU09OLCDRgtC+INC+0L0g0L/QsNGA0YHQuNGC0YHRjyDQsiDQvtCx0YrQtdC60YJcclxuICAgICAgICB0aGlzLnByZXBhcmVTdHlsZShzdHlsZSlcclxuICAgICAgICAgICAgLy8g0KHQs9C10L3QtdGA0LjRgNC+0LLQsNGC0Ywgc2NvcGVkSWRcclxuICAgICAgICB0aGlzLnNjb3BlZElkID0gdGhpcy5zY29wZWRJZEdlbmVyYXRlKCk7XHJcbiAgICAgICAgLy8g0JXRgdC70Lgg0L3Rg9C20L3Qviwg0LjQvdC40YbQuNCw0LvQuNC30LjRgNGD0LXRgiBzY29wZWQt0YHQuNGB0YLQtdC80YNcclxuICAgICAgICB0aGlzLnNjb3BlZEluaXQoc2VsZWN0b3IpO1xyXG5cclxuICAgICAgICAvLyDQodCz0LXQvdC10YDQuNGA0L7QstCw0YLRjCDRgdGC0YDQvtC60YMg0YHRgtC40LvQtdC5INC40Lcg0L/QvtC70YPRh9C10L3QvdC+0LPQviDQvtCx0YrQtdC60YLQsFxyXG4gICAgICAgIHRoaXMuc3R5bGVfc3RyaW5nID0gdGhpcy5qc29uVG9TdHlsZSh0aGlzLnN0eWxlX29iaik7XHJcblxyXG4gICAgICAgIC8vINCS0YHRgtCw0LLQuNGC0Ywg0YHQs9C10L3QtdGA0LjRgNC+0LLQsNC90L3Ri9C1INGB0YLQuNC70Lgg0L3QsCDRgdGC0YDQsNC90LjRhtGDXHJcbiAgICAgICAgdGhpcy5pbmplY3RTdHlsZSh0aGlzLnN0eWxlX3N0cmluZywgZG9jdW1lbnQuaGVhZCwgJ0NTU2luSlNPTl9zdHlsZScsIHRoaXMuc2NvcGVkSWQpO1xyXG4gICAgfVxyXG59XHJcblxyXG53aW5kb3cuQ1NTaW5KU09OID0gQ1NTaW5KU09OOyIsIi8q0KTRg9C90LrRhtC40Y8g0LjQtyBqUXVlcnkg0LTQu9GPINC+0LHRitC10LTQuNC90LXQvdC40Y8g0L7QsdGK0LXQutGC0L7QslxyXG4gKiB2YXIgbmV3T2JqID0gZXh0ZW5kKG9ial8xLCBvYmpfMik7XHJcbiAqXHJcbiAqINCU0LvRjyDRgNC10LrRg9GA0YHQuNCy0L3QvtCz0L4g0L7QsdGK0LXQtNC40L3QtdC90LjRj1xyXG4gKiB2YXIgbmV3T2JqID0gZXh0ZW5kKHRydWUsIG9ial8xLCBvYmpfMik7XHJcbiAqXHJcbiAqINCg0LDQsdC+0YLQsCDRhNGD0L3QutGG0LjQuCDQuNC30LzQtdC90Y/QtdGCINC/0LXRgNCy0YvQuSDQvtCx0YrQtdC60YIgb2JqXzFcclxuICogbmV3T2JqID09PSBvYmpfMVxyXG4gKi9cclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBleHRlbmQoKSB7XHJcbiAgICB2YXIgb3B0aW9ucywgbmFtZSwgc3JjLCBjb3B5LCBjb3B5SXNBcnJheSwgY2xvbmUsXHJcbiAgICAgICAgdGFyZ2V0ID0gYXJndW1lbnRzWzBdIHx8IHt9LFxyXG4gICAgICAgIGkgPSAxLFxyXG4gICAgICAgIGxlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGgsXHJcbiAgICAgICAgZGVlcCA9IGZhbHNlO1xyXG4gICAgLy8gSGFuZGxlIGEgZGVlcCBjb3B5IHNpdHVhdGlvblxyXG4gICAgaWYgKHR5cGVvZiB0YXJnZXQgPT09IFwiYm9vbGVhblwiKSB7XHJcbiAgICAgICAgZGVlcCA9IHRhcmdldDtcclxuICAgICAgICAvLyBTa2lwIHRoZSBib29sZWFuIGFuZCB0aGUgdGFyZ2V0XHJcbiAgICAgICAgdGFyZ2V0ID0gYXJndW1lbnRzW2ldIHx8IHt9O1xyXG4gICAgICAgIGkrKztcclxuICAgIH1cclxuICAgIC8vIEhhbmRsZSBjYXNlIHdoZW4gdGFyZ2V0IGlzIGEgc3RyaW5nIG9yIHNvbWV0aGluZyAocG9zc2libGUgaW4gZGVlcCBjb3B5KVxyXG4gICAgaWYgKHR5cGVvZiB0YXJnZXQgIT09IFwib2JqZWN0XCIgJiYgIWlzRnVuY3Rpb24odGFyZ2V0KSkge1xyXG4gICAgICAgIHRhcmdldCA9IHt9O1xyXG4gICAgfVxyXG4gICAgLy8gRXh0ZW5kIGpRdWVyeSBpdHNlbGYgaWYgb25seSBvbmUgYXJndW1lbnQgaXMgcGFzc2VkXHJcbiAgICBpZiAoaSA9PT0gbGVuZ3RoKSB7XHJcbiAgICAgICAgdGFyZ2V0ID0gdGhpcztcclxuICAgICAgICBpLS07XHJcbiAgICB9XHJcbiAgICBmb3IgKDsgaSA8IGxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgLy8gT25seSBkZWFsIHdpdGggbm9uLW51bGwvdW5kZWZpbmVkIHZhbHVlc1xyXG4gICAgICAgIGlmICgob3B0aW9ucyA9IGFyZ3VtZW50c1tpXSkgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAvLyBFeHRlbmQgdGhlIGJhc2Ugb2JqZWN0XHJcbiAgICAgICAgICAgIGZvciAobmFtZSBpbiBvcHRpb25zKSB7XHJcbiAgICAgICAgICAgICAgICBzcmMgPSB0YXJnZXRbbmFtZV07XHJcbiAgICAgICAgICAgICAgICBjb3B5ID0gb3B0aW9uc1tuYW1lXTtcclxuICAgICAgICAgICAgICAgIC8vIFByZXZlbnQgbmV2ZXItZW5kaW5nIGxvb3BcclxuICAgICAgICAgICAgICAgIGlmICh0YXJnZXQgPT09IGNvcHkpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIFJlY3Vyc2UgaWYgd2UncmUgbWVyZ2luZyBwbGFpbiBvYmplY3RzIG9yIGFycmF5c1xyXG4gICAgICAgICAgICAgICAgaWYgKGRlZXAgJiYgY29weSAmJiAoaXNQbGFpbk9iamVjdChjb3B5KSB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAoY29weUlzQXJyYXkgPSBBcnJheS5pc0FycmF5KGNvcHkpKSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY29weUlzQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29weUlzQXJyYXkgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xvbmUgPSBzcmMgJiYgQXJyYXkuaXNBcnJheShzcmMpID8gc3JjIDogW107XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xvbmUgPSBzcmMgJiYgaXNQbGFpbk9iamVjdChzcmMpID8gc3JjIDoge307XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIE5ldmVyIG1vdmUgb3JpZ2luYWwgb2JqZWN0cywgY2xvbmUgdGhlbVxyXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldFtuYW1lXSA9IGV4dGVuZChkZWVwLCBjbG9uZSwgY29weSk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gRG9uJ3QgYnJpbmcgaW4gdW5kZWZpbmVkIHZhbHVlc1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjb3B5ICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0YXJnZXRbbmFtZV0gPSBjb3B5O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGlzUGxhaW5PYmplY3Qob2JqKSB7XHJcbiAgICAgICAgdmFyIHByb3RvLCBDdG9yO1xyXG4gICAgICAgIC8vIERldGVjdCBvYnZpb3VzIG5lZ2F0aXZlc1xyXG4gICAgICAgIC8vIFVzZSB0b1N0cmluZyBpbnN0ZWFkIG9mIGpRdWVyeS50eXBlIHRvIGNhdGNoIGhvc3Qgb2JqZWN0c1xyXG4gICAgICAgIGlmICghb2JqIHx8IHRvU3RyaW5nLmNhbGwob2JqKSAhPT0gXCJbb2JqZWN0IE9iamVjdF1cIikge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHByb3RvID0gZ2V0UHJvdG8ob2JqKTtcclxuICAgICAgICAvLyBPYmplY3RzIHdpdGggbm8gcHJvdG90eXBlIChlLmcuLCBgT2JqZWN0LmNyZWF0ZSggbnVsbCApYCkgYXJlIHBsYWluXHJcbiAgICAgICAgaWYgKCFwcm90bykge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gT2JqZWN0cyB3aXRoIHByb3RvdHlwZSBhcmUgcGxhaW4gaWZmIHRoZXkgd2VyZSBjb25zdHJ1Y3RlZCBieSBhIGdsb2JhbCBPYmplY3QgZnVuY3Rpb25cclxuICAgICAgICBDdG9yID0gaGFzT3duLmNhbGwocHJvdG8sIFwiY29uc3RydWN0b3JcIikgJiYgcHJvdG8uY29uc3RydWN0b3I7XHJcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBDdG9yID09PSBcImZ1bmN0aW9uXCIgJiYgZm5Ub1N0cmluZy5jYWxsKEN0b3IpID09PSBPYmplY3RGdW5jdGlvblN0cmluZztcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gZ2V0UHJvdG8ob2JqKSB7XHJcbiAgICAgICAgICAgIG9iaiA9IG9iaiB8fCB7fTtcclxuICAgICAgICAgICAgcmV0dXJuIG9iai5nZXRQcm90b3R5cGVPZjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGNsYXNzMnR5cGUoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7fTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGhhc093bihjbGFzczJ0eXBlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjbGFzczJ0eXBlLmhhc093blByb3BlcnR5O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gZm5Ub1N0cmluZyhoYXNPd24pIHtcclxuICAgICAgICAgICAgcmV0dXJuIGhhc093bi50b1N0cmluZztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUmV0dXJuIHRoZSBtb2RpZmllZCBvYmplY3RcclxuICAgIHJldHVybiB0YXJnZXQ7XHJcbn07IiwiaW1wb3J0IERvd25sb2FkIGZyb20gJ2Rvd25sb2FkanMnO1xyXG5pbXBvcnQgSW1nRXh0cmFjdG9ySW50ZXJmYWNlIGZyb20gJy4vaW50ZXJmYWNlJ1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSW1nRXh0cmFjdG9yIHtcclxuICAgIGNvbnN0cnVjdG9yKHBhcmFtcyA9IHt9KSB7XHJcbiAgICAgICAgdGhpcy5jb250YWluZXIgPSBwYXJhbXMuY29udGFpbmVyID8gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihwYXJhbXMuY29udGFpbmVyKSA6IGRvY3VtZW50O1xyXG4gICAgICAgIHRoaXMubmFtZV9wcmVmaXggPSAocGFyYW1zLnJlbmFtZSAmJiBwYXJhbXMucmVuYW1lLnByZWZpeCkgPyBwYXJhbXMucmVuYW1lLnByZWZpeCA6ICcnO1xyXG4gICAgICAgIHRoaXMubmFtZV9zdWZmaXggPSAocGFyYW1zLnJlbmFtZSAmJiBwYXJhbXMucmVuYW1lLnN1ZmZpeCkgPyBwYXJhbXMucmVuYW1lLnN1ZmZpeCA6ICcnO1xyXG4gICAgICAgIHRoaXMuZGVmYXVsdF9uYW1lX2V4dCA9ICdzdmcnO1xyXG4gICAgICAgIHRoaXMubmFtZV9pbmRleCA9IDA7XHJcblxyXG4gICAgICAgIHRoaXMuYXV0b2Rvd25sb2FkID0gcGFyYW1zLmF1dG9kb3dubG9hZDtcclxuXHJcbiAgICAgICAgdGhpcy5lbGVtcyA9IHt9O1xyXG4gICAgICAgIHRoaXMuaXRlbXMgPSBbXTtcclxuXHJcbiAgICAgICAgdGhpcy5taW1lX3R5cGUgPSB7XHJcbiAgICAgICAgICAgIHN2ZzogJ2ltYWdlL3N2Zyt4bWwnLFxyXG4gICAgICAgICAgICBwbmc6ICdpbWFnZS9wbmcnLFxyXG4gICAgICAgICAgICBqcGc6ICdpbWFnZS9qcGVnJyxcclxuICAgICAgICAgICAganBlZzogJ2ltYWdlL2pwZWcnLFxyXG4gICAgICAgICAgICB0aWZmOiAnaW1hZ2UvdGlmZicsXHJcbiAgICAgICAgICAgIHdlYnA6ICdpbWFnZS93ZWJwJyxcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuaW50ZXJmYWNlID0gbnVsbDtcclxuXHJcblxyXG4gICAgICAgIHRoaXMuaW5pdCgpO1xyXG4gICAgfVxyXG5cclxuICAgIF9nZXRUeXBlRmlsdGVyKCkge1xyXG4gICAgICAgIGxldCBmaWx0ZXIgPSB7fTtcclxuXHJcbiAgICAgICAgZm9yIChsZXQgdHlwZSBpbiB0aGlzLmVsZW1zKSB7XHJcbiAgICAgICAgICAgIGZpbHRlclt0eXBlXSA9IHRydWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gZmlsdGVyO1xyXG4gICAgfVxyXG5cclxuICAgIF9idWlsZE5hbWUoZWxlbSwgZXh0ID0gdGhpcy5kZWZhdWx0X25hbWVfZXh0KSB7XHJcbiAgICAgICAgbGV0IG5hbWUgPSAnJztcclxuXHJcbiAgICAgICAgaWYgKGVsZW0uaWQpIHtcclxuICAgICAgICAgICAgbmFtZSA9IGVsZW0uaWQ7XHJcbiAgICAgICAgfSBlbHNlIGlmIChlbGVtLmNsYXNzTGlzdC52YWx1ZSAhPT0gJycpIHtcclxuICAgICAgICAgICAgbmFtZSA9IGVsZW0uY2xhc3NMaXN0LnZhbHVlO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIG5hbWUgPSB0aGlzLm5hbWVfaW5kZXgrKztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBgJHt0aGlzLm5hbWVfcHJlZml4fSR7bmFtZX0ke3RoaXMubmFtZV9zdWZmaXh9LiR7ZXh0fWA7XHJcbiAgICB9XHJcblxyXG4gICAgLy8g0JzQtdGC0L7QtCwg0YHQvtCx0LjRgNCw0Y7RidC40Lkg0LjQvdC70LDQudC90L7QstGL0LUgc3ZnINGB0L4g0YHRgtGA0LDQvdC40YbRi1xyXG4gICAgX2NvbGxlY3RJbmxpbmVTdmcoKSB7XHJcbiAgICAgICAgbGV0IGV4dCA9ICdzdmcnO1xyXG4gICAgICAgIHRoaXMuZWxlbXNbZXh0XSA9IHRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoJ3N2ZycpO1xyXG5cclxuICAgICAgICB0aGlzLmVsZW1zW2V4dF0uZm9yRWFjaChlbGVtID0+IHtcclxuICAgICAgICAgICAgbGV0IGl0ZW0gPSB7fTtcclxuXHJcbiAgICAgICAgICAgIGl0ZW0ubmFtZSA9IHRoaXMuX2J1aWxkTmFtZShlbGVtLCBleHQpO1xyXG4gICAgICAgICAgICBpdGVtLmNvbnRlbnQgPSBlbGVtLm91dGVySFRNTDtcclxuICAgICAgICAgICAgaXRlbS5leHQgPSBleHQ7XHJcblxyXG4gICAgICAgICAgICB0aGlzLml0ZW1zLnB1c2goaXRlbSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8g0JzQtdGC0L7QtCDQt9Cw0LPRgNGD0LfQutC4INCy0YHQtdGFINGB0L7QsdGA0LDQvdC90YvRhSDQutCw0YDRgtC40L3QvtC6XHJcbiAgICBkb3dubG9hZEFsbCgpIHtcclxuICAgICAgICB0aGlzLml0ZW1zLmZvckVhY2goaXRlbSA9PiB7XHJcbiAgICAgICAgICAgIERvd25sb2FkKGl0ZW0uY29udGVudCwgaXRlbS5uYW1lLCB0aGlzLm1pbWVfdHlwZVtpdGVtLmV4dF0pO1xyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgLy8g0JzQtdGC0L7QtCDQv9C+0LvRg9GH0LXQvdC40Y8g0Y3Qu9C10LzQtdC90YLQvtCyLCDRgdC+0LTQtdGA0LbQsNGJ0LjRhSDQutCw0YDRgtC40L3QutC4XHJcbiAgICBnZXRFbGVtZW50cygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5lbGVtcztcclxuICAgIH1cclxuXHJcbiAgICAvLyDQnNC10YLQvtC0INC/0L7Qu9GD0YfQtdC90LjRjyDQsNC50YLQvtC80L7Qsiwg0YHQvtC00LXRgNC20LDRidC40YUg0L7QsdGK0LXQutGC0Ysg0LrQsNGA0YLQuNC90L7Quiwg0L/QvtC00LPQvtGC0L7QstC70LXQvdC90YvQtSDQuiDQt9Cw0LPRgNGD0LfQutC1XHJcbiAgICBnZXRJdGVtcygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5pdGVtcztcclxuICAgIH1cclxuXHJcbiAgICBpbml0KCkge1xyXG4gICAgICAgIC8vINCX0LDQv9GD0YHQuiDRgdCx0L7RgNCwINC40L3Qu9Cw0LnQvdC+0LLRi9GFIHN2Z1xyXG4gICAgICAgIHRoaXMuX2NvbGxlY3RJbmxpbmVTdmcoKTtcclxuXHJcblxyXG4gICAgICAgIC8vINCV0YHQu9C4INCw0LLRgtC+0LzQsNGC0LjRh9C10YHQutC40Lkg0LfQsNC/0YPRgdC6INGB0LrQsNGH0LjQstCw0L3QuNGPINCy0YHQtdGFINC90LDQudC00LXQvdC90YvRhSDQutCw0YDRgtC40L3QvtC6INCy0LrQu9GO0YfQtdC9LFxyXG4gICAgICAgIGlmICh0aGlzLmF1dG9kb3dubG9hZCkge1xyXG4gICAgICAgICAgICAvLyDRgtC+INC/0YDQvtGB0YLQviDRgdC60LDRh9C40LLQsNC10Lwg0LjRhVxyXG4gICAgICAgICAgICB0aGlzLmRvd25sb2FkQWxsKCk7XHJcblxyXG4gICAgICAgICAgICAvLyDQldGB0LvQuCDQsNCy0YLQvtC80LDRgtC40YfQtdGB0LrQvtC1INGB0LrQsNGH0LjQstCw0L3QuNC1INCy0YvQutC70Y7Rh9C10L3QviwgXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8g0KLQviDQuNC90LjRhtC40LDQu9C40LfQuNGA0YPQtdC8INC40L3RgtC10YDRhNC10LnRgVxyXG4gICAgICAgICAgICB0aGlzLmludGVyZmFjZSA9IG5ldyBJbWdFeHRyYWN0b3JJbnRlcmZhY2Uoe1xyXG4gICAgICAgICAgICAgICAgbGF5b3V0X2lkOiAnaW1nX2V4dHJhY3Rvcl9pbnRlcmZhY2UnLFxyXG4gICAgICAgICAgICAgICAgaXRlbXM6IHRoaXMuZ2V0SXRlbXMoKSxcclxuICAgICAgICAgICAgICAgIGZpbHRlcjogdGhpcy5fZ2V0VHlwZUZpbHRlcigpLFxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuaW50ZXJmYWNlKTtcclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEltZ0V4dHJhY3RvckludGVyZmFjZVRlbXBsYXRlcyB7XHJcbiAgICBjb25zdHJ1Y3RvcihwYXJhbXMgPSB7fSkge1xyXG4gICAgICAgIHRoaXMuY29sb3JzID0ge1xyXG4gICAgICAgICAgICBiZ19jb250YWluZXI6ICdyZ2JhKDAsIDAsIDAsIC43KScsXHJcbiAgICAgICAgICAgIHRleHQ6ICdyZ2IoMTk1LCAyMDcsIDIyNCknLFxyXG4gICAgICAgICAgICBib3JkZXI6ICdyZ2JhKDEwNSwgMTA5LCAxMjUsIDAuNCknLFxyXG4gICAgICAgICAgICBhY2NlbnQ6ICcjZmZjMDAwJyxcclxuICAgICAgICAgICAgYWNjZW50X2FsZmE6ICdyZ2JhKDI1NSwgMTkyLCAwLCAuMyknLFxyXG4gICAgICAgIH07XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGdldExheW91dFRlbXBsYXRlKCkge1xyXG4gICAgICAgIHJldHVybiBgXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJpbnRlcmZhY2VfaGVhZGVyXCI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaW50ZXJmYWNlX2hpZGVcIiB0aXRsZT1cItCh0LLQtdGA0L3Rg9GC0Ywg0L/QsNC90LXQu9GMINGB0LrQsNGH0LjQstCw0L3QuNGPXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiJHt0aGlzLmNvbG9ycy50ZXh0fVwiIHN0cm9rZS13aWR0aD1cIjJcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGxpbmUgeDE9XCI0XCIgeTE9XCIxMlwiIHgyPVwiMjBcIiB5Mj1cIjEyXCIvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8cG9seWxpbmUgcG9pbnRzPVwiMTQgNiAyMCAxMiAxNCAxOFwiLz5cclxuICAgICAgICAgICAgICAgICAgICA8L3N2Zz5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhlYWRlcl90ZXh0XCI+0JLRi9Cx0LXRgNC40YLQtSDQuNC30L7QsdGA0LDQttC10L3QuNGPINC00LvRjyDRgdC60LDRh9C40LLQsNC90LjRjzwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJpbnRlcmZhY2VfY29udGVudFwiPjwvZGl2PmA7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0SWNvbnMoKSB7XHJcbiAgICAgICAgbGV0IGljb25zID0ge1xyXG4gICAgICAgICAgICBjaXJjbGVFbXB0eTogJycsXHJcbiAgICAgICAgICAgIG9rQ2lyY2xlZDogJycsXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldEZpbHRlckJ0blRlbXBsYXRlKGZpbHRlcl9uYW1lKSB7XHJcbiAgICAgICAgbGV0IGJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgIGJ0bi5jbGFzc05hbWUgPSAnZmlsdGVyX2J0biBhY3RpdmUnO1xyXG4gICAgICAgIGJ0bi5kYXRhc2V0LmZpbHRlciA9IGZpbHRlcl9uYW1lO1xyXG4gICAgICAgIGJ0bi50ZXh0Q29udGVudCA9IGAuJHtmaWx0ZXJfbmFtZX1gO1xyXG5cclxuICAgICAgICByZXR1cm4gYnRuO1xyXG4gICAgfVxyXG5cclxuICAgIGdldExpc3RJdGVtKGl0ZW0pIHtcclxuICAgICAgICByZXR1cm4gYDxkaXY+JHtpdGVtLm5hbWV9PC9kaXY+YDtcclxuICAgIH1cclxuXHJcblxyXG4gICAgZ2V0Q29tbW9uU3R5bGUodmFycykge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIC8vINCa0L7QvdGC0LXQudC90LXRgCDQuNC90YLQtdGA0YTQtdC50YHQsFxyXG4gICAgICAgICAgICBbdmFycy5sYXlvdXRfaWRdOiB7XHJcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoaXMuY29sb3JzLmJnX2NvbnRhaW5lcixcclxuICAgICAgICAgICAgICAgIGJveFNoYWRvdzogYDAgMCAyMHB4ICR7dGhpcy5jb2xvcnMuYmdfY29udGFpbmVyfWAsXHJcbiAgICAgICAgICAgICAgICBjb2xvcjogdGhpcy5jb2xvcnMudGV4dCxcclxuICAgICAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdzYW5zLXNlcmlmJyxcclxuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAnZml4ZWQnLFxyXG4gICAgICAgICAgICAgICAgbWF4V2lkdGg6ICc1MDBweCcsXHJcbiAgICAgICAgICAgICAgICBtaW5XaWR0aDogJzMyMHB4JyxcclxuICAgICAgICAgICAgICAgIHdpZHRoOiAnNDAlJyxcclxuICAgICAgICAgICAgICAgIGhlaWdodDogJzEwMHZoJyxcclxuICAgICAgICAgICAgICAgIGJveFNpemluZzogJ2JvcmRlci1ib3gnLFxyXG4gICAgICAgICAgICAgICAgcmlnaHQ6IDAsXHJcbiAgICAgICAgICAgICAgICB0b3A6IDAsXHJcbiAgICAgICAgICAgICAgICBwYWRkaW5nOiAnMTBweCAxNXB4JyxcclxuICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZTNkKDAsIDAsIDFweCknLFxyXG4gICAgICAgICAgICAgICAgd2lsbENoYW5nZTogJ3RyYW5zZm9ybScsXHJcbiAgICAgICAgICAgICAgICB0cmFuc2l0aW9uOiAnYWxsIC4yNXMgZWFzZS1pbi1vdXQnLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBbYCR7dmFycy5sYXlvdXRfaWR9LmNsb3NlYF06IHtcclxuICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZTNkKDEwMCUsIDAsIDFweCknLFxyXG4gICAgICAgICAgICAgICAgYm94U2hhZG93OiAnbm9uZScsXHJcbiAgICAgICAgICAgIH0sXHJcblxyXG4gICAgICAgICAgICAvLyDQl9Cw0LPQvtC70L7QstC+0Log0LjQvdGC0LXRgNGE0LXQudGB0LBcclxuICAgICAgICAgICAgJy5pbnRlcmZhY2VfaGVhZGVyJzoge1xyXG4gICAgICAgICAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxyXG4gICAgICAgICAgICAgICAgYm9yZGVyQm90dG9tOiAnMXB4IHNvbGlkICcgKyB0aGlzLmNvbG9ycy5ib3JkZXIsXHJcbiAgICAgICAgICAgICAgICBtYXJnaW5Cb3R0b206ICcxMHB4J1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAnLmludGVyZmFjZV9oaWRlJzoge1xyXG4gICAgICAgICAgICAgICAgcGFkZGluZzogJzEwcHgnLFxyXG4gICAgICAgICAgICAgICAgd2lkdGg6ICcyOHB4JyxcclxuICAgICAgICAgICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcclxuICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiAnY2VudGVyJyxcclxuICAgICAgICAgICAgICAgIGN1cnNvcjogJ3BvaW50ZXInLFxyXG4gICAgICAgICAgICAgICAgdHJhbnNpdGlvbjogJ3RyYW5zZm9ybSAuMjVzIGVhc2UtaW4tb3V0JyxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgJy5pbnRlcmZhY2VfaGlkZSBzdmcnOiB7XHJcbiAgICAgICAgICAgICAgICB0cmFuc2l0aW9uOiAndHJhbnNmb3JtIC4yNXMgZWFzZS1pbi1vdXQnLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAnLmludGVyZmFjZV9oaWRlOmhvdmVyIHN2Zyc6IHtcclxuICAgICAgICAgICAgICAgIHN0cm9rZTogJyNmZmYnXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIFtgJHt2YXJzLmxheW91dF9pZH0uY2xvc2UgLmludGVyZmFjZV9oaWRlYF06IHtcclxuICAgICAgICAgICAgICAgICdiYWNrZ3JvdW5kLWNvbG9yJzogdGhpcy5jb2xvcnMuYmdfY29udGFpbmVyLFxyXG4gICAgICAgICAgICAgICAgJ2JvcmRlci1yYWRpdXMnOiAnNXB4IDAgMCA1cHgnLFxyXG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtOiAndHJhbnNsYXRlM2QoY2FsYygtMTAwJSAtIDE1cHgpLCAwLCAxcHgpJyxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgW2Ake3ZhcnMubGF5b3V0X2lkfS5jbG9zZSAuaW50ZXJmYWNlX2hpZGUgc3ZnYF06IHtcclxuICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogJ3JvdGF0ZSgxODBkZWcpJyxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgJy5oZWFkZXJfdGV4dCc6IHtcclxuICAgICAgICAgICAgICAgIGZsZXhHcm93OiAxLFxyXG4gICAgICAgICAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxyXG4gICAgICAgICAgICAgICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXHJcbiAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogJ3NwYWNlLWFyb3VuZCcsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICcuaW50ZXJmYWNlX2NvbnRlbnQnOiB7XHJcbiAgICAgICAgICAgICAgICBvdmVyZmxvd1k6ICdhdXRvJyxcclxuICAgICAgICAgICAgfSxcclxuXHJcbiAgICAgICAgICAgIC8vINCk0LjQu9GM0YLRgFxyXG4gICAgICAgICAgICAnLmZpbHRlcl93cmFwJzoge1xyXG4gICAgICAgICAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxyXG4gICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6ICdzcGFjZS1iZXR3ZWVuJyxcclxuICAgICAgICAgICAgICAgIG1hcmdpbkJvdHRvbTogJzEwcHgnXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICcuZmlsdGVyX2J0bic6IHtcclxuICAgICAgICAgICAgICAgIGJvcmRlcjogJzFweCBzb2xpZCcsXHJcbiAgICAgICAgICAgICAgICBib3JkZXJDb2xvcjogdGhpcy5jb2xvcnMuYm9yZGVyLFxyXG4gICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAnMnB4JyxcclxuICAgICAgICAgICAgICAgIHBhZGRpbmc6ICc1cHggMTBweCcsXHJcbiAgICAgICAgICAgICAgICBjdXJzb3I6ICdwb2ludGVyJyxcclxuICAgICAgICAgICAgICAgIG9wYWNpdHk6IDAuOCxcclxuICAgICAgICAgICAgICAgIHVzZXJTZWxlY3Q6ICdub25lJ1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAnLmZpbHRlcl9idG4uYWN0aXZlJzoge1xyXG4gICAgICAgICAgICAgICAgYm9yZGVyQ29sb3I6IHRoaXMuY29sb3JzLmFjY2VudCxcclxuICAgICAgICAgICAgICAgIGNvbG9yOiB0aGlzLmNvbG9ycy5hY2NlbnQsXHJcbiAgICAgICAgICAgIH0sXHJcblxyXG4gICAgICAgICAgICAvLyDQodC/0LjRgdC+0Log0LDQudGC0LXQvNC+0LIg0LrQsNGA0YLQuNC90L7QulxyXG4gICAgICAgICAgICAnLmxpc3RfaXRlbSc6IHtcclxuICAgICAgICAgICAgICAgIGJvcmRlcjogYDFweCBzb2xpZGAsXHJcbiAgICAgICAgICAgICAgICAvLyBib3JkZXJDb2xvcjogdGhpcy5jb2xvcnMuYm9yZGVyLFxyXG4gICAgICAgICAgICAgICAgYm9yZGVyQ29sb3I6ICd0cmFuc3BhcmVudCcsXHJcbiAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6ICczcHgnLFxyXG4gICAgICAgICAgICAgICAgcGFkZGluZzogJzE1cHgnLFxyXG4gICAgICAgICAgICAgICAgbWFyZ2luQm90dG9tOiAnNXB4JyxcclxuICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogdGhpcy5jb2xvcnMuYmdfY29udGFpbmVyLFxyXG4gICAgICAgICAgICAgICAgY3Vyc29yOiAncG9pbnRlcicsXHJcbiAgICAgICAgICAgICAgICBvcGFjaXR5OiAwLjVcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgW2AubGlzdF9pdGVtJHt2YXJzLmxpc3RfaXRlbV9zbGVjdGVkfWBdOiB7XHJcbiAgICAgICAgICAgICAgICAvLyBib3JkZXJDb2xvcjogdGhpcy5jb2xvcnMuYWNjZW50X2FsZmEsXHJcbiAgICAgICAgICAgICAgICBib3JkZXJDb2xvcjogdGhpcy5jb2xvcnMuYm9yZGVyLFxyXG4gICAgICAgICAgICAgICAgb3BhY2l0eTogMSxcclxuICAgICAgICAgICAgfVxyXG5cclxuXHJcblxyXG4gICAgICAgIH0gLy8g0JrQvtC90LXRhiDRgdGC0LjQu9C10LlcclxuICAgIH1cclxufSIsImltcG9ydCAnLi4vbGlicy9DU1NpbkpTT04vYXBwL2pzL2Nzcy1pbi1qc29uJztcclxuaW1wb3J0IEltZ0V4dHJhY3RvckludGVyZmFjZVRlbXBsYXRlcyBmcm9tICcuL2ludGVyZmFjZS10ZW1wbGF0ZXMnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSW1nRXh0cmFjdG9ySW50ZXJmYWNlIHtcclxuICAgIGNvbnN0cnVjdG9yKHBhcmFtcyA9IHt9KSB7XHJcbiAgICAgICAgbGV0IHRoYXQgPSB0aGlzO1xyXG5cclxuICAgICAgICB0aGlzLmxheW91dF9pZCA9IHBhcmFtcy5sYXlvdXRfaWQ7XHJcbiAgICAgICAgdGhpcy5pdGVtcyA9IHBhcmFtcy5pdGVtcztcclxuICAgICAgICB0aGlzLl9maWx0ZXIgPSBwYXJhbXMuZmlsdGVyO1xyXG5cclxuICAgICAgICB0aGlzLnBhcnRzID0ge1xyXG4gICAgICAgICAgICBsYXlvdXQ6IG51bGwsXHJcbiAgICAgICAgICAgIGhlYWRlcjogbnVsbCxcclxuICAgICAgICAgICAgY29udGVudDogbnVsbCxcclxuICAgICAgICAgICAgZmlsdGVyOiBudWxsLFxyXG4gICAgICAgICAgICBsaXN0OiBudWxsXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5saXN0X2l0ZW1fc2xlY3RlZCA9ICdzZWxlY3RlZCc7XHJcblxyXG4gICAgICAgIHRoaXMuY3NzaW5qcyA9IG51bGw7XHJcbiAgICAgICAgdGhpcy50ZW1wbGF0ZSA9IG5ldyBJbWdFeHRyYWN0b3JJbnRlcmZhY2VUZW1wbGF0ZXMoKTtcclxuXHJcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgICAgICAgX29wZW5lZDogdHJ1ZSxcclxuICAgICAgICAgICAgc2V0IG9wZW5lZCh2YWwpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsID09PSAnYm9vbGVhbicpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9vcGVuZWQgPSB2YWw7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoYXQucGFydHMubGF5b3V0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbCA/IHRoYXQucGFydHMubGF5b3V0LmNsYXNzTGlzdC5yZW1vdmUoJ2Nsb3NlJykgOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhhdC5wYXJ0cy5sYXlvdXQuY2xhc3NMaXN0LmFkZCgnY2xvc2UnKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGdldCBvcGVuZWQoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fb3BlbmVkO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcblxyXG4gICAgICAgIC8vINCi0L7Rh9C60LAg0LLRhdC+0LTQsFxyXG4gICAgICAgIHRoaXMuaW5pdCgpO1xyXG4gICAgfVxyXG5cclxuICAgIF9oYW5kbGVyTGlzdEl0ZW1TZWxlY3QoaXRlbSkge1xyXG4gICAgICAgIGl0ZW0uY2xhc3NMaXN0LnRvZ2dsZSh0aGlzLmxpc3RfaXRlbV9zbGVjdGVkKTtcclxuXHJcbiAgICAgICAgLy8gVE9ETzog0JfQtNC10YHRjCDQvdCw0LTQviDQsdGD0LTQtdGCINCy0YvQt9GL0LLQsNGC0Ywg0YTQuNC70YzRgtGA0LDRhtC40Y4g0LLRi9Cx0YDQsNC90L3Ri9GFINCw0LnRgtC+0LzQvtCyXHJcbiAgICB9XHJcblxyXG4gICAgX21ha2VMaXN0KCkge1xyXG4gICAgICAgIHRoaXMucGFydHMubGlzdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgIHRoaXMucGFydHMubGlzdC5jbGFzc05hbWUgPSAnbGlzdF93cmFwJztcclxuXHJcbiAgICAgICAgdGhpcy5wYXJ0cy5jb250ZW50LmFwcGVuZENoaWxkKHRoaXMucGFydHMubGlzdCk7XHJcbiAgICB9XHJcblxyXG4gICAgX3JlbmRlckxpc3RJdGVtcyhjYXRlZ29yeSkge1xyXG4gICAgICAgIGxldCBpdGVtcyA9IHRoaXMuaXRlbXMuZmlsdGVyKGl0ZW0gPT4gaXRlbS5leHQgPT09IGNhdGVnb3J5KTtcclxuXHJcbiAgICAgICAgaXRlbXMuZm9yRWFjaChpdGVtID0+IHtcclxuICAgICAgICAgICAgbGV0IGxpc3RfaXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgICAgICBsaXN0X2l0ZW0uY2xhc3NOYW1lID0gYGxpc3RfaXRlbSAke3RoaXMubGlzdF9pdGVtX3NsZWN0ZWR9YDtcclxuICAgICAgICAgICAgbGlzdF9pdGVtLmlubmVySFRNTCA9IHRoaXMudGVtcGxhdGUuZ2V0TGlzdEl0ZW0oaXRlbSk7XHJcblxyXG4gICAgICAgICAgICBsaXN0X2l0ZW0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2hhbmRsZXJMaXN0SXRlbVNlbGVjdChlLmN1cnJlbnRUYXJnZXQpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucGFydHMubGlzdC5hcHBlbmRDaGlsZChsaXN0X2l0ZW0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIF9jbGVhckxpc3RJdGVtcygpIHtcclxuICAgICAgICB0aGlzLnBhcnRzLmxpc3QuaW5uZXJIVE1MID0gJyc7XHJcbiAgICB9XHJcblxyXG4gICAgbGlzdFJlbmRlcihmaWx0ZXJfbmFtZSwgY2xlYXIgPSB0cnVlKSB7XHJcbiAgICAgICAgaWYgKGNsZWFyKSB0aGlzLl9jbGVhckxpc3RJdGVtcygpO1xyXG5cclxuICAgICAgICBpZiAoZmlsdGVyX25hbWUgJiYgdGhpcy5fZmlsdGVyW2ZpbHRlcl9uYW1lXSkge1xyXG4gICAgICAgICAgICB0aGlzLl9yZW5kZXJMaXN0SXRlbXMoZmlsdGVyX25hbWUpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoIWZpbHRlcl9uYW1lKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2NsZWFyTGlzdEl0ZW1zKCk7XHJcblxyXG4gICAgICAgICAgICBmb3IgKGxldCBjYXRlZ29yeSBpbiB0aGlzLl9maWx0ZXIpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9maWx0ZXJbY2F0ZWdvcnldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcmVuZGVyTGlzdEl0ZW1zKGNhdGVnb3J5KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgLy8g0JzQtdGC0L7QtCwg0YHQvtC30LTQsNGO0YnQuNC5INCx0LvQvtC6INGBINC60L3QvtC/0LrQsNC80Lgg0YTQuNC70YzRgtGA0LBcclxuICAgIF9tYWtlRmlsdGVyKCkge1xyXG4gICAgICAgIHRoaXMucGFydHMuZmlsdGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgdGhpcy5wYXJ0cy5maWx0ZXIuY2xhc3NOYW1lID0gJ2ZpbHRlcl93cmFwJztcclxuXHJcbiAgICAgICAgLy8g0KHQvtC30LTQsNC10Lwg0LrQvdC+0L/QutC4INC/0L4g0L7QsdGK0LXQutGC0YMg0YTQuNC70YzRgtGA0LBcclxuICAgICAgICBmb3IgKGxldCBmaWx0ZXJfbmFtZSBpbiB0aGlzLl9maWx0ZXIpIHtcclxuICAgICAgICAgICAgbGV0IGJ0biA9IHRoaXMudGVtcGxhdGUuZ2V0RmlsdGVyQnRuVGVtcGxhdGUoZmlsdGVyX25hbWUpO1xyXG5cclxuICAgICAgICAgICAgLy8g0JLQtdGI0LDQtdC8INC90LAg0L/QvtC70YPRh9C10L3QvdGL0LUg0LrQvdC+0L/QutC4INC+0LHRgNCw0LHQvtGC0YfQuNC6INC/0LXRgNC10LrQu9GO0YfQtdC90LjRjyDRhNC40LvRjNGC0YDQsFxyXG4gICAgICAgICAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcclxuICAgICAgICAgICAgICAgIGxldCBlbGVtID0gZS5jdXJyZW50VGFyZ2V0O1xyXG4gICAgICAgICAgICAgICAgbGV0IHJlcyA9IHRoaXMuZmlsdGVyKGVsZW0uZGF0YXNldC5maWx0ZXIpO1xyXG4gICAgICAgICAgICAgICAgcmVzID8gZWxlbS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKSA6IGVsZW0uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJylcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAvLyDQlNC+0LHQsNCy0LvRj9C10Lwg0LrQvdC+0L/QutGDINCyINC60L7QvdGC0LXQudC90LXRgFxyXG4gICAgICAgICAgICB0aGlzLnBhcnRzLmZpbHRlci5hcHBlbmRDaGlsZChidG4pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8g0LLRgdGC0LDQstC70Y/QtdC8INC60L7QvdGC0LXQudC90LXRgCDRhNC40LvRjNGC0YDQsCDQsiDQuNC90YLQtdGA0YTQtdC50YFcclxuICAgICAgICB0aGlzLnBhcnRzLmNvbnRlbnQuYXBwZW5kQ2hpbGQodGhpcy5wYXJ0cy5maWx0ZXIpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vINCc0LXRgtC+0LQg0LTQu9GPINC40LfQvNC10L3QtdC90LjRjyDRgdC+0YHRgtC+0Y/QvdC40Y8g0YTQuNC70YzRgtGA0LBcclxuICAgIGZpbHRlcihuYW1lLCB2YWwpIHtcclxuICAgICAgICBpZiAodmFsICYmIHR5cGVvZiB2YWwgPT09ICdib29sZWFuJykge1xyXG4gICAgICAgICAgICB0aGlzLl9maWx0ZXJbbmFtZV0gPSB2YWw7XHJcbiAgICAgICAgfSBlbHNlIGlmICh2YWwgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICB0aGlzLl9maWx0ZXJbbmFtZV0gPSAhdGhpcy5fZmlsdGVyW25hbWVdO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gVE9ETzog0KLRg9GCINC90LDQtNC+INCx0YPQtNC10YIg0LfQsNC/0YPRgdC60LDRgtGMINGA0LXQvdC00LXRgCDRhNC40LvRjNGC0YDQsNGG0LjQuFxyXG4gICAgICAgIHRoaXMubGlzdFJlbmRlcigpO1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcy5fZmlsdGVyW25hbWVdO1xyXG4gICAgfVxyXG5cclxuICAgIC8vINCc0LXRgtC+0LQg0LTQu9GPINGB0LLQvtGA0LDRh9C40LLQsNC90LjRjy/RgNCw0LfQstC+0YDQsNGH0LjQstCw0L3QuNGPINC40L3RgtC10YDRhNC10LnRgdCwXHJcbiAgICBvcGVuVG9nZ2xlKGUpIHtcclxuICAgICAgICB0aGlzLnN0YXRlLm9wZW5lZCA9ICF0aGlzLnN0YXRlLm9wZW5lZDtcclxuXHJcbiAgICAgICAgaWYgKGUgJiYgdGhpcy5zdGF0ZS5vcGVuZWQpIHtcclxuICAgICAgICAgICAgZS5jdXJyZW50VGFyZ2V0LnNldEF0dHJpYnV0ZSgndGl0bGUnLCAn0KHQstC10YDQvdGD0YLRjCBJbWdFeHRyYWN0b3InKTtcclxuICAgICAgICB9IGVsc2UgaWYgKGUgJiYgIXRoaXMuc3RhdGUub3BlbmVkKSB7XHJcbiAgICAgICAgICAgIGUuY3VycmVudFRhcmdldC5zZXRBdHRyaWJ1dGUoJ3RpdGxlJywgJ9Cg0LDQt9Cy0LXRgNC90YPRgtGMIEltZ0V4dHJhY3RvcicpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyDQnNC10YLQvtC0INGB0L7Qt9C00LDQvdC40Y8g0LrQvtC90YLQtdC50L3QtdGA0LAg0LjQvdGC0LXRgNGE0LXQudGB0LBcclxuICAgIF9tYWtlTGF5b3V0KCkge1xyXG4gICAgICAgIHRoaXMucGFydHMubGF5b3V0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgdGhpcy5wYXJ0cy5sYXlvdXQuaWQgPSB0aGlzLmxheW91dF9pZDtcclxuICAgICAgICB0aGlzLnBhcnRzLmxheW91dC5pbm5lckhUTUwgPSB0aGlzLnRlbXBsYXRlLmdldExheW91dFRlbXBsYXRlKCk7XHJcblxyXG4gICAgICAgIC8vINCh0L7RhdGA0LDQvdC40Lwg0LIg0YHQstC+0LnRgdGC0LLQsCDRiNCw0L/QutGDINC4INC60L7QvdGC0LXQvdGCINC40L3RgtC10YDRhNC10LnRgdCwXHJcbiAgICAgICAgdGhpcy5wYXJ0cy5oZWFkZXIgPSB0aGlzLnBhcnRzLmxheW91dC5xdWVyeVNlbGVjdG9yKCcuaW50ZXJmYWNlX2hlYWRlcicpO1xyXG4gICAgICAgIHRoaXMucGFydHMuY29udGVudCA9IHRoaXMucGFydHMubGF5b3V0LnF1ZXJ5U2VsZWN0b3IoJy5pbnRlcmZhY2VfY29udGVudCcpO1xyXG5cclxuICAgICAgICAvLyDQktC10YjQsNC10Lwg0L7QsdGA0LDQsdC+0YLRh9C40Log0L3QsCDQutC90L7Qv9C60YMg0YHQstC+0YDQsNGH0LjQstCw0L3QuNGPL9GA0LDQt9Cy0L7RgNCw0YfQuNCy0LDQvdC40Y8g0LjQvdGC0LXRgNGE0LXQudGB0LBcclxuICAgICAgICB0aGlzLnBhcnRzLmxheW91dC5xdWVyeVNlbGVjdG9yKCcuaW50ZXJmYWNlX2hpZGUnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLm9wZW5Ub2dnbGUoZSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5wYXJ0cy5sYXlvdXQpO1xyXG4gICAgfVxyXG5cclxuICAgIGluaXQoKSB7XHJcbiAgICAgICAgLy8g0KHQvtC30LTQsNGC0Ywg0LrQvtC90YLQtdC50L3QtdGAINC40L3RgtC10YDRhNC10LnRgdCwXHJcbiAgICAgICAgdGhpcy5fbWFrZUxheW91dCgpO1xyXG5cclxuICAgICAgICAvLyDQodC+0LfQtNCw0LXQvCDQsdC70L7QuiDRhNC40LvRjNGC0YDQsFxyXG4gICAgICAgIHRoaXMuX21ha2VGaWx0ZXIoKTtcclxuXHJcbiAgICAgICAgLy8g0KHQvtC30LTQsNC10Lwg0LHQu9C+0Log0YHQv9C40YHQutCwINC40LfQvtCx0YDQsNC20LXQvdC40LlcclxuICAgICAgICB0aGlzLl9tYWtlTGlzdCgpO1xyXG5cclxuICAgICAgICAvLyDQl9Cw0L/QvtC70L3Rj9C10Lwg0LHQu9C+0Log0YHQv9C40YHQutCwINCw0LnRgtC10LzQsNC80LhcclxuICAgICAgICB0aGlzLmxpc3RSZW5kZXIoKTtcclxuXHJcblxyXG4gICAgICAgIC8vINCU0L7QsdCw0LLQuNGC0Ywg0YHRgtC40LvQuCDQuNC90YLQtdGA0YTQtdC50YHQsCDQvdCwINGB0YLRgNCw0L3QuNGG0YMsINCy0YHQtdCz0LTQsCDQsiDQutC+0L3RhtC1XHJcbiAgICAgICAgdGhpcy5jc3NpbmpzID0gbmV3IENTU2luSlNPTih7XHJcbiAgICAgICAgICAgIHN0eWxlOiB0aGlzLnRlbXBsYXRlLmdldENvbW1vblN0eWxlKHtcclxuICAgICAgICAgICAgICAgIGxheW91dF9pZDogJyMnICsgdGhpcy5sYXlvdXRfaWQsXHJcbiAgICAgICAgICAgICAgICBsaXN0X2l0ZW1fc2xlY3RlZDogJy4nICsgdGhpcy5saXN0X2l0ZW1fc2xlY3RlZFxyXG4gICAgICAgICAgICB9KSxcclxuICAgICAgICAgICAgc2NvcGVkRWxlbTogJyMnICsgdGhpcy5sYXlvdXRfaWRcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbn0iLCIvL2Rvd25sb2FkLmpzIHY0LjIsIGJ5IGRhbmRhdmlzOyAyMDA4LTIwMTYuIFtNSVRdIHNlZSBodHRwOi8vZGFubWwuY29tL2Rvd25sb2FkLmh0bWwgZm9yIHRlc3RzL3VzYWdlXG4vLyB2MSBsYW5kZWQgYSBGRitDaHJvbWUgY29tcGF0IHdheSBvZiBkb3dubG9hZGluZyBzdHJpbmdzIHRvIGxvY2FsIHVuLW5hbWVkIGZpbGVzLCB1cGdyYWRlZCB0byB1c2UgYSBoaWRkZW4gZnJhbWUgYW5kIG9wdGlvbmFsIG1pbWVcbi8vIHYyIGFkZGVkIG5hbWVkIGZpbGVzIHZpYSBhW2Rvd25sb2FkXSwgbXNTYXZlQmxvYiwgSUUgKDEwKykgc3VwcG9ydCwgYW5kIHdpbmRvdy5VUkwgc3VwcG9ydCBmb3IgbGFyZ2VyK2Zhc3RlciBzYXZlcyB0aGFuIGRhdGFVUkxzXG4vLyB2MyBhZGRlZCBkYXRhVVJMIGFuZCBCbG9iIElucHV0LCBiaW5kLXRvZ2dsZSBhcml0eSwgYW5kIGxlZ2FjeSBkYXRhVVJMIGZhbGxiYWNrIHdhcyBpbXByb3ZlZCB3aXRoIGZvcmNlLWRvd25sb2FkIG1pbWUgYW5kIGJhc2U2NCBzdXBwb3J0LiAzLjEgaW1wcm92ZWQgc2FmYXJpIGhhbmRsaW5nLlxuLy8gdjQgYWRkcyBBTUQvVU1ELCBjb21tb25KUywgYW5kIHBsYWluIGJyb3dzZXIgc3VwcG9ydFxuLy8gdjQuMSBhZGRzIHVybCBkb3dubG9hZCBjYXBhYmlsaXR5IHZpYSBzb2xvIFVSTCBhcmd1bWVudCAoc2FtZSBkb21haW4vQ09SUyBvbmx5KVxuLy8gdjQuMiBhZGRzIHNlbWFudGljIHZhcmlhYmxlIG5hbWVzLCBsb25nIChvdmVyIDJNQikgZGF0YVVSTCBzdXBwb3J0LCBhbmQgaGlkZGVuIGJ5IGRlZmF1bHQgdGVtcCBhbmNob3JzXG4vLyBodHRwczovL2dpdGh1Yi5jb20vcm5kbWUvZG93bmxvYWRcblxuKGZ1bmN0aW9uIChyb290LCBmYWN0b3J5KSB7XG5cdGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcblx0XHQvLyBBTUQuIFJlZ2lzdGVyIGFzIGFuIGFub255bW91cyBtb2R1bGUuXG5cdFx0ZGVmaW5lKFtdLCBmYWN0b3J5KTtcblx0fSBlbHNlIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpIHtcblx0XHQvLyBOb2RlLiBEb2VzIG5vdCB3b3JrIHdpdGggc3RyaWN0IENvbW1vbkpTLCBidXRcblx0XHQvLyBvbmx5IENvbW1vbkpTLWxpa2UgZW52aXJvbm1lbnRzIHRoYXQgc3VwcG9ydCBtb2R1bGUuZXhwb3J0cyxcblx0XHQvLyBsaWtlIE5vZGUuXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG5cdH0gZWxzZSB7XG5cdFx0Ly8gQnJvd3NlciBnbG9iYWxzIChyb290IGlzIHdpbmRvdylcblx0XHRyb290LmRvd25sb2FkID0gZmFjdG9yeSgpO1xuICB9XG59KHRoaXMsIGZ1bmN0aW9uICgpIHtcblxuXHRyZXR1cm4gZnVuY3Rpb24gZG93bmxvYWQoZGF0YSwgc3RyRmlsZU5hbWUsIHN0ck1pbWVUeXBlKSB7XG5cblx0XHR2YXIgc2VsZiA9IHdpbmRvdywgLy8gdGhpcyBzY3JpcHQgaXMgb25seSBmb3IgYnJvd3NlcnMgYW55d2F5Li4uXG5cdFx0XHRkZWZhdWx0TWltZSA9IFwiYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtXCIsIC8vIHRoaXMgZGVmYXVsdCBtaW1lIGFsc28gdHJpZ2dlcnMgaWZyYW1lIGRvd25sb2Fkc1xuXHRcdFx0bWltZVR5cGUgPSBzdHJNaW1lVHlwZSB8fCBkZWZhdWx0TWltZSxcblx0XHRcdHBheWxvYWQgPSBkYXRhLFxuXHRcdFx0dXJsID0gIXN0ckZpbGVOYW1lICYmICFzdHJNaW1lVHlwZSAmJiBwYXlsb2FkLFxuXHRcdFx0YW5jaG9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIiksXG5cdFx0XHR0b1N0cmluZyA9IGZ1bmN0aW9uKGEpe3JldHVybiBTdHJpbmcoYSk7fSxcblx0XHRcdG15QmxvYiA9IChzZWxmLkJsb2IgfHwgc2VsZi5Nb3pCbG9iIHx8IHNlbGYuV2ViS2l0QmxvYiB8fCB0b1N0cmluZyksXG5cdFx0XHRmaWxlTmFtZSA9IHN0ckZpbGVOYW1lIHx8IFwiZG93bmxvYWRcIixcblx0XHRcdGJsb2IsXG5cdFx0XHRyZWFkZXI7XG5cdFx0XHRteUJsb2I9IG15QmxvYi5jYWxsID8gbXlCbG9iLmJpbmQoc2VsZikgOiBCbG9iIDtcblx0ICBcblx0XHRpZihTdHJpbmcodGhpcyk9PT1cInRydWVcIil7IC8vcmV2ZXJzZSBhcmd1bWVudHMsIGFsbG93aW5nIGRvd25sb2FkLmJpbmQodHJ1ZSwgXCJ0ZXh0L3htbFwiLCBcImV4cG9ydC54bWxcIikgdG8gYWN0IGFzIGEgY2FsbGJhY2tcblx0XHRcdHBheWxvYWQ9W3BheWxvYWQsIG1pbWVUeXBlXTtcblx0XHRcdG1pbWVUeXBlPXBheWxvYWRbMF07XG5cdFx0XHRwYXlsb2FkPXBheWxvYWRbMV07XG5cdFx0fVxuXG5cblx0XHRpZih1cmwgJiYgdXJsLmxlbmd0aDwgMjA0OCl7IC8vIGlmIG5vIGZpbGVuYW1lIGFuZCBubyBtaW1lLCBhc3N1bWUgYSB1cmwgd2FzIHBhc3NlZCBhcyB0aGUgb25seSBhcmd1bWVudFxuXHRcdFx0ZmlsZU5hbWUgPSB1cmwuc3BsaXQoXCIvXCIpLnBvcCgpLnNwbGl0KFwiP1wiKVswXTtcblx0XHRcdGFuY2hvci5ocmVmID0gdXJsOyAvLyBhc3NpZ24gaHJlZiBwcm9wIHRvIHRlbXAgYW5jaG9yXG5cdFx0ICBcdGlmKGFuY2hvci5ocmVmLmluZGV4T2YodXJsKSAhPT0gLTEpeyAvLyBpZiB0aGUgYnJvd3NlciBkZXRlcm1pbmVzIHRoYXQgaXQncyBhIHBvdGVudGlhbGx5IHZhbGlkIHVybCBwYXRoOlxuICAgICAgICBcdFx0dmFyIGFqYXg9bmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgICAgIFx0XHRhamF4Lm9wZW4oIFwiR0VUXCIsIHVybCwgdHJ1ZSk7XG4gICAgICAgIFx0XHRhamF4LnJlc3BvbnNlVHlwZSA9ICdibG9iJztcbiAgICAgICAgXHRcdGFqYXgub25sb2FkPSBmdW5jdGlvbihlKXsgXG5cdFx0XHRcdCAgZG93bmxvYWQoZS50YXJnZXQucmVzcG9uc2UsIGZpbGVOYW1lLCBkZWZhdWx0TWltZSk7XG5cdFx0XHRcdH07XG4gICAgICAgIFx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7IGFqYXguc2VuZCgpO30sIDApOyAvLyBhbGxvd3Mgc2V0dGluZyBjdXN0b20gYWpheCBoZWFkZXJzIHVzaW5nIHRoZSByZXR1cm46XG5cdFx0XHQgICAgcmV0dXJuIGFqYXg7XG5cdFx0XHR9IC8vIGVuZCBpZiB2YWxpZCB1cmw/XG5cdFx0fSAvLyBlbmQgaWYgdXJsP1xuXG5cblx0XHQvL2dvIGFoZWFkIGFuZCBkb3dubG9hZCBkYXRhVVJMcyByaWdodCBhd2F5XG5cdFx0aWYoL15kYXRhOihbXFx3Ky1dK1xcL1tcXHcrLi1dKyk/Wyw7XS8udGVzdChwYXlsb2FkKSl7XG5cdFx0XG5cdFx0XHRpZihwYXlsb2FkLmxlbmd0aCA+ICgxMDI0KjEwMjQqMS45OTkpICYmIG15QmxvYiAhPT0gdG9TdHJpbmcgKXtcblx0XHRcdFx0cGF5bG9hZD1kYXRhVXJsVG9CbG9iKHBheWxvYWQpO1xuXHRcdFx0XHRtaW1lVHlwZT1wYXlsb2FkLnR5cGUgfHwgZGVmYXVsdE1pbWU7XG5cdFx0XHR9ZWxzZXtcdFx0XHRcblx0XHRcdFx0cmV0dXJuIG5hdmlnYXRvci5tc1NhdmVCbG9iID8gIC8vIElFMTAgY2FuJ3QgZG8gYVtkb3dubG9hZF0sIG9ubHkgQmxvYnM6XG5cdFx0XHRcdFx0bmF2aWdhdG9yLm1zU2F2ZUJsb2IoZGF0YVVybFRvQmxvYihwYXlsb2FkKSwgZmlsZU5hbWUpIDpcblx0XHRcdFx0XHRzYXZlcihwYXlsb2FkKSA7IC8vIGV2ZXJ5b25lIGVsc2UgY2FuIHNhdmUgZGF0YVVSTHMgdW4tcHJvY2Vzc2VkXG5cdFx0XHR9XG5cdFx0XHRcblx0XHR9ZWxzZXsvL25vdCBkYXRhIHVybCwgaXMgaXQgYSBzdHJpbmcgd2l0aCBzcGVjaWFsIG5lZWRzP1xuXHRcdFx0aWYoLyhbXFx4ODAtXFx4ZmZdKS8udGVzdChwYXlsb2FkKSl7XHRcdFx0ICBcblx0XHRcdFx0dmFyIGk9MCwgdGVtcFVpQXJyPSBuZXcgVWludDhBcnJheShwYXlsb2FkLmxlbmd0aCksIG14PXRlbXBVaUFyci5sZW5ndGg7XG5cdFx0XHRcdGZvcihpO2k8bXg7KytpKSB0ZW1wVWlBcnJbaV09IHBheWxvYWQuY2hhckNvZGVBdChpKTtcblx0XHRcdCBcdHBheWxvYWQ9bmV3IG15QmxvYihbdGVtcFVpQXJyXSwge3R5cGU6IG1pbWVUeXBlfSk7XG5cdFx0XHR9XHRcdCAgXG5cdFx0fVxuXHRcdGJsb2IgPSBwYXlsb2FkIGluc3RhbmNlb2YgbXlCbG9iID9cblx0XHRcdHBheWxvYWQgOlxuXHRcdFx0bmV3IG15QmxvYihbcGF5bG9hZF0sIHt0eXBlOiBtaW1lVHlwZX0pIDtcblxuXG5cdFx0ZnVuY3Rpb24gZGF0YVVybFRvQmxvYihzdHJVcmwpIHtcblx0XHRcdHZhciBwYXJ0cz0gc3RyVXJsLnNwbGl0KC9bOjssXS8pLFxuXHRcdFx0dHlwZT0gcGFydHNbMV0sXG5cdFx0XHRkZWNvZGVyPSBwYXJ0c1syXSA9PSBcImJhc2U2NFwiID8gYXRvYiA6IGRlY29kZVVSSUNvbXBvbmVudCxcblx0XHRcdGJpbkRhdGE9IGRlY29kZXIoIHBhcnRzLnBvcCgpICksXG5cdFx0XHRteD0gYmluRGF0YS5sZW5ndGgsXG5cdFx0XHRpPSAwLFxuXHRcdFx0dWlBcnI9IG5ldyBVaW50OEFycmF5KG14KTtcblxuXHRcdFx0Zm9yKGk7aTxteDsrK2kpIHVpQXJyW2ldPSBiaW5EYXRhLmNoYXJDb2RlQXQoaSk7XG5cblx0XHRcdHJldHVybiBuZXcgbXlCbG9iKFt1aUFycl0sIHt0eXBlOiB0eXBlfSk7XG5cdFx0IH1cblxuXHRcdGZ1bmN0aW9uIHNhdmVyKHVybCwgd2luTW9kZSl7XG5cblx0XHRcdGlmICgnZG93bmxvYWQnIGluIGFuY2hvcikgeyAvL2h0bWw1IEFbZG93bmxvYWRdXG5cdFx0XHRcdGFuY2hvci5ocmVmID0gdXJsO1xuXHRcdFx0XHRhbmNob3Iuc2V0QXR0cmlidXRlKFwiZG93bmxvYWRcIiwgZmlsZU5hbWUpO1xuXHRcdFx0XHRhbmNob3IuY2xhc3NOYW1lID0gXCJkb3dubG9hZC1qcy1saW5rXCI7XG5cdFx0XHRcdGFuY2hvci5pbm5lckhUTUwgPSBcImRvd25sb2FkaW5nLi4uXCI7XG5cdFx0XHRcdGFuY2hvci5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG5cdFx0XHRcdGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYW5jaG9yKTtcblx0XHRcdFx0c2V0VGltZW91dChmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRhbmNob3IuY2xpY2soKTtcblx0XHRcdFx0XHRkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGFuY2hvcik7XG5cdFx0XHRcdFx0aWYod2luTW9kZT09PXRydWUpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXsgc2VsZi5VUkwucmV2b2tlT2JqZWN0VVJMKGFuY2hvci5ocmVmKTt9LCAyNTAgKTt9XG5cdFx0XHRcdH0sIDY2KTtcblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9XG5cblx0XHRcdC8vIGhhbmRsZSBub24tYVtkb3dubG9hZF0gc2FmYXJpIGFzIGJlc3Qgd2UgY2FuOlxuXHRcdFx0aWYoLyhWZXJzaW9uKVxcLyhcXGQrKVxcLihcXGQrKSg/OlxcLihcXGQrKSk/LipTYWZhcmlcXC8vLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkpIHtcblx0XHRcdFx0aWYoL15kYXRhOi8udGVzdCh1cmwpKVx0dXJsPVwiZGF0YTpcIit1cmwucmVwbGFjZSgvXmRhdGE6KFtcXHdcXC9cXC1cXCtdKykvLCBkZWZhdWx0TWltZSk7XG5cdFx0XHRcdGlmKCF3aW5kb3cub3Blbih1cmwpKXsgLy8gcG9wdXAgYmxvY2tlZCwgb2ZmZXIgZGlyZWN0IGRvd25sb2FkOlxuXHRcdFx0XHRcdGlmKGNvbmZpcm0oXCJEaXNwbGF5aW5nIE5ldyBEb2N1bWVudFxcblxcblVzZSBTYXZlIEFzLi4uIHRvIGRvd25sb2FkLCB0aGVuIGNsaWNrIGJhY2sgdG8gcmV0dXJuIHRvIHRoaXMgcGFnZS5cIikpeyBsb2NhdGlvbi5ocmVmPXVybDsgfVxuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0fVxuXG5cdFx0XHQvL2RvIGlmcmFtZSBkYXRhVVJMIGRvd25sb2FkIChvbGQgY2grRkYpOlxuXHRcdFx0dmFyIGYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaWZyYW1lXCIpO1xuXHRcdFx0ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChmKTtcblxuXHRcdFx0aWYoIXdpbk1vZGUgJiYgL15kYXRhOi8udGVzdCh1cmwpKXsgLy8gZm9yY2UgYSBtaW1lIHRoYXQgd2lsbCBkb3dubG9hZDpcblx0XHRcdFx0dXJsPVwiZGF0YTpcIit1cmwucmVwbGFjZSgvXmRhdGE6KFtcXHdcXC9cXC1cXCtdKykvLCBkZWZhdWx0TWltZSk7XG5cdFx0XHR9XG5cdFx0XHRmLnNyYz11cmw7XG5cdFx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7IGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoZik7IH0sIDMzMyk7XG5cblx0XHR9Ly9lbmQgc2F2ZXJcblxuXG5cblxuXHRcdGlmIChuYXZpZ2F0b3IubXNTYXZlQmxvYikgeyAvLyBJRTEwKyA6IChoYXMgQmxvYiwgYnV0IG5vdCBhW2Rvd25sb2FkXSBvciBVUkwpXG5cdFx0XHRyZXR1cm4gbmF2aWdhdG9yLm1zU2F2ZUJsb2IoYmxvYiwgZmlsZU5hbWUpO1xuXHRcdH1cblxuXHRcdGlmKHNlbGYuVVJMKXsgLy8gc2ltcGxlIGZhc3QgYW5kIG1vZGVybiB3YXkgdXNpbmcgQmxvYiBhbmQgVVJMOlxuXHRcdFx0c2F2ZXIoc2VsZi5VUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpLCB0cnVlKTtcblx0XHR9ZWxzZXtcblx0XHRcdC8vIGhhbmRsZSBub24tQmxvYigpK25vbi1VUkwgYnJvd3NlcnM6XG5cdFx0XHRpZih0eXBlb2YgYmxvYiA9PT0gXCJzdHJpbmdcIiB8fCBibG9iLmNvbnN0cnVjdG9yPT09dG9TdHJpbmcgKXtcblx0XHRcdFx0dHJ5e1xuXHRcdFx0XHRcdHJldHVybiBzYXZlciggXCJkYXRhOlwiICsgIG1pbWVUeXBlICAgKyBcIjtiYXNlNjQsXCIgICsgIHNlbGYuYnRvYShibG9iKSAgKTtcblx0XHRcdFx0fWNhdGNoKHkpe1xuXHRcdFx0XHRcdHJldHVybiBzYXZlciggXCJkYXRhOlwiICsgIG1pbWVUeXBlICAgKyBcIixcIiArIGVuY29kZVVSSUNvbXBvbmVudChibG9iKSAgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBCbG9iIGJ1dCBub3QgVVJMIHN1cHBvcnQ6XG5cdFx0XHRyZWFkZXI9bmV3IEZpbGVSZWFkZXIoKTtcblx0XHRcdHJlYWRlci5vbmxvYWQ9ZnVuY3Rpb24oZSl7XG5cdFx0XHRcdHNhdmVyKHRoaXMucmVzdWx0KTtcblx0XHRcdH07XG5cdFx0XHRyZWFkZXIucmVhZEFzRGF0YVVSTChibG9iKTtcblx0XHR9XG5cdFx0cmV0dXJuIHRydWU7XG5cdH07IC8qIGVuZCBkb3dubG9hZCgpICovXG59KSk7XG4iXX0="}